{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _asyncToGenerator from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useState, useEffect } from 'react';\nimport { Layout, Button, Empty, Popover, Switch, Row, Col, Select, Table } from 'antd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFilter } from '@fortawesome/free-solid-svg-icons';\nimport matchSorter from 'match-sorter';\nimport useAxios, { configure } from 'axios-hooks';\nimport axiosInstance from 'services/AxiosInstance';\nimport { LogOutTopbar, SearchHeader, TitleDivider } from 'components/shared';\nimport useGlobalStore from 'store/GlobalStore';\nimport PromoteCard from 'components/promotion/PromoteCard/PromoteCard';\nimport { getGenericData } from 'components/datafield/GenericContainer';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Avatar from 'antd/lib/avatar/avatar';\n\nconst axios = require('axios').default;\n\nconst Column = Table.Column;\ntoast.configure();\nconfigure({\n  axios: axiosInstance\n});\nconst Content = Layout.Content;\nconst Option = Select.Option;\n\nconst preloadOptions = (data = []) => data.map((item, index) => {\n  return /*#__PURE__*/React.createElement(Option, {\n    value: item.id,\n    key: index.toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, item.name);\n});\n\nconst _default = function _default(props) {\n  const session = props.session;\n  const adminId = session.id;\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        searchString = _useState2[0],\n        setSearchString = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showPromoted = _useState4[0],\n        setShowPromoted = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        fileData = _useState6[0],\n        setFileData = _useState6[1];\n\n  const _useState7 = useState({\n    files: [],\n    name: \"\"\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        inputFile = _useState8[0],\n        setInputFile = _useState8[1];\n\n  const _useState9 = useState(),\n        _useState10 = _slicedToArray(_useState9, 2),\n        getValue = _useState10[0],\n        setGetValue = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        isHide = _useState12[0],\n        setIsHide = _useState12[1];\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        bannerList = _useState14[0],\n        setBannerList = _useState14[1];\n\n  const _useState15 = useState({\n    offer: true,\n    pathway: true,\n    provider: true\n  }),\n        _useState16 = _slicedToArray(_useState15, 2),\n        filters = _useState16[0],\n        setFilters = _useState16[1];\n\n  const _useGlobalStore = useGlobalStore(),\n        providerStore = _useGlobalStore.provider,\n        pathwayStore = _useGlobalStore.pathway,\n        offerStore = _useGlobalStore.offer,\n        dataFieldStore = _useGlobalStore.datafield;\n\n  const _useAxios = useAxios('/pathways?scope=with_files'),\n        _useAxios2 = _slicedToArray(_useAxios, 1),\n        getPathways = _useAxios2[0].data;\n\n  const _useAxios3 = useAxios('/offers?scope=with_files'),\n        _useAxios4 = _slicedToArray(_useAxios3, 1),\n        getOffers = _useAxios4[0].data;\n\n  const _useAxios5 = useAxios('/providers?scope=with_files'),\n        _useAxios6 = _slicedToArray(_useAxios5, 1),\n        getProviders = _useAxios6[0].data;\n\n  const _useAxios7 = useAxios('/datafields?type=topic'),\n        _useAxios8 = _slicedToArray(_useAxios7, 1),\n        getDataField = _useAxios8[0].data;\n\n  const _useState17 = useState({\n    id: 0,\n    page_route: \"default\"\n  }),\n        _useState18 = _slicedToArray(_useState17, 2),\n        activePageId = _useState18[0],\n        setActivePageId = _useState18[1]; // const [selectedTopicValue, setSelectedTopicValue] = useState([]);\n\n\n  const offers = Object.values(offerStore.entities).map(o => {\n    return _objectSpread(_objectSpread({}, o), {}, {\n      entity_type: 'offer'\n    });\n  });\n  const providers = Object.values(providerStore.entities).map(p => {\n    return _objectSpread(_objectSpread({}, p), {}, {\n      entity_type: 'provider'\n    });\n  });\n  const pathways = Object.values(pathwayStore.entities).map(p => {\n    return _objectSpread(_objectSpread({}, p), {}, {\n      entity_type: 'pathway'\n    });\n  });\n  const datafield = Object.values(dataFieldStore.entities).map(p => {\n    return _objectSpread(_objectSpread({}, p), {}, {\n      entity_type: 'datafield'\n    });\n  });\n  const data = [...offers, ...pathways, ...providers];\n\n  function toggleFilter(key = 'offer') {\n    setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n      [key]: !filters[key]\n    }));\n  }\n\n  const _useState19 = useState([]),\n        _useState20 = _slicedToArray(_useState19, 2),\n        selectedTopicValue = _useState20[0],\n        setSelectedTopicValue = _useState20[1];\n\n  const getTopicsList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* () {\n      console.log('getTopicsList', data);\n      getAllTopicData().then(res => {\n        let idArray = [],\n            getDataField = res.data.length ? res.data : [];\n\n        if (getDataField) {\n          for (let i = 0; i < getDataField.length; i++) {\n            if (getDataField[i].is_check_topic) {\n              if (getDataField[i].page_id.length) {\n                for (let x = 0; x < getDataField[i].page_id.length; x++) {\n                  if (getDataField[i].page_id[x] === activePageId.id) {\n                    idArray.push(getDataField[i].id);\n                  }\n                }\n              }\n            } else {}\n          }\n\n          idArray = idArray.filter(function (item, index, inputArray) {\n            return inputArray.indexOf(item) == index;\n          });\n          setPreCheckedTopic(idArray);\n          setSelectedTopicValue(idArray);\n\n          if (idArray.length) {\n            setIsPrefilledTopic(true);\n          } else {\n            setIsPrefilledTopic(false);\n          }\n        }\n      }).catch(err => {\n        console.log(err, 'err');\n      });\n    });\n\n    return function getTopicsList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const getAllTopicData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      let Data = yield axios.get(`${process.env.REACT_APP_API_URL}/api/v1/datafields?type=topic`);\n      return Data;\n    });\n\n    return function getAllTopicData() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // update topic data in topic list when user submit\n\n\n  const updateData = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator(function* (selectedTopicValue, page_url_check) {\n      console.log(\"-----------\", selectedTopicValue);\n      let user_id = selectedTopicValue;\n      let Data = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/update_topic`, {\n        user_id,\n        page_url_check\n      });\n      return Data;\n    });\n\n    return function updateData(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // update topic data in topic list when user submit\n\n\n  const updateTopicRoute = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator(function* (selectedTopicValue, page_url_check, page_id) {\n      console.log(\"-----------\", selectedTopicValue);\n      let user_id = selectedTopicValue;\n      let Data = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/update_topic_route`, {\n        user_id,\n        page_url_check,\n        page_id\n      });\n      return Data;\n    });\n\n    return function updateTopicRoute(_x3, _x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // remove selected topic when user click on remove button\n\n\n  const deleteTopicData = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator(function* (selectedTopicValue, page_url_check) {\n      console.log(\"-----------\", selectedTopicValue);\n      let user_id = selectedTopicValue;\n      let Data = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/delete_topic`, {\n        user_id,\n        page_url_check\n      });\n      return Data;\n    });\n\n    return function deleteTopicData(_x6, _x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  function filterContent() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-between mb-1\",\n      gutter: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, \"Providers\"), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      size: \"small\",\n      defaultChecked: filters.provider,\n      onClick: () => toggleFilter('provider'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-between mb-1\",\n      gutter: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, \"Offers\"), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      size: \"small\",\n      defaultChecked: filters.offer,\n      onClick: () => toggleFilter('offer'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-between\",\n      gutter: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, \"Pathways\"), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      size: \"small\",\n      defaultChecked: filters.pathway,\n      onClick: () => toggleFilter('pathway'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n  const handleDataSearch = searchVal => {\n    setSearchString(searchVal); // return setSearchString(searchVal);\n  };\n\n  const handleOnChange = event => {\n    // getting value from event object\n    let value = event.target.value;\n    console.log('handleOnChange', value);\n\n    if (showPromoted) {\n      setShowPromoted(false);\n    }\n\n    if (value.length === 0) {\n      setShowPromoted(true);\n    }\n\n    setSearchString(value);\n  };\n\n  const handleDataAfterSearch = (data, keys = ['name', 'keywords']) => {\n    return matchSorter(data, searchString, {\n      keys\n    });\n  };\n\n  const _useState21 = useState({\n    mainButtonStatus: false,\n    localButtonStatus: false\n  }),\n        _useState22 = _slicedToArray(_useState21, 2),\n        cardButtonStatus = _useState22[0],\n        setcardButtonStatus = _useState22[1];\n\n  let showData = handleDataAfterSearch(data);\n\n  if (showPromoted) {\n    showData = showData.filter(d => {\n      // check if local and main are true\n      let isBothTrue = d.is_local_promo && d.is_main_promo,\n          // check if local and main are true then we set local false\n      isLocalPromoTrue = isBothTrue ? false : d.is_local_promo,\n          // check if local and main are true then we set main false\n      isMainPromo = isBothTrue ? false : d.is_main_promo;\n\n      if (filters.offer && d.entity_type === 'offer') {\n        if (isBothTrue) {\n          let status = isBothLocalMainTrue(d);\n          return status;\n        } else if (isLocalPromoTrue) {\n          let status = isLocalTrue(d);\n          return status;\n        } else if (isMainPromo) {\n          let status = isMainPromotrue(d);\n          return status;\n        } else {\n          return false;\n        }\n      }\n\n      if (filters.provider && d.entity_type === 'provider') {\n        if (isBothTrue) {\n          let status = isBothLocalMainTrue(d);\n          return status;\n        } else if (isLocalPromoTrue) {\n          let status = isLocalTrue(d);\n          return status;\n        } else if (isMainPromo) {\n          let status = isMainPromotrue(d);\n          return status;\n        } else {\n          return false;\n        }\n      }\n\n      if (filters.pathway && d.entity_type === 'pathway') {\n        if (isBothTrue) {\n          let status = isBothLocalMainTrue(d);\n          return status;\n        } else if (isLocalPromoTrue) {\n          let status = isLocalTrue(d);\n          return status;\n        } else if (isMainPromo) {\n          let status = isMainPromotrue(d);\n          return status;\n        } else {\n          return false;\n        } // return true;\n\n      }\n\n      return false;\n    });\n  } else {\n    showData = showData.filter(d => {\n      if (filters.offer && d.entity_type === 'offer') {\n        return true;\n      }\n\n      if (filters.provider && d.entity_type === 'provider') {\n        return true;\n      }\n\n      if (filters.pathway && d.entity_type === 'pathway') {\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  function isBothLocalMainTrue(data) {\n    // checking if custom_page_promo_ids available\n    let isCustomMainArrayAvailable = data.custom_page_promo_ids ? true : false,\n        // checking if custom_page_local_ids available\n    isCustomLocalArrayAvailable = data.custom_page_local_ids ? true : false,\n        // checking if main array is larger\n    isCustomMainArrayLarger = isCustomMainArrayAvailable ? data.custom_page_promo_ids.length > data.custom_page_local_ids.length : false; // if both array have same length\n\n    if (data.custom_page_promo_ids.length === data.custom_page_local_ids.length) {\n      for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\n        if (data.custom_page_local_ids[localId] === activePageId.id && data.custom_page_promo_ids[localId] === activePageId.id) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      // check if both array are available\n      if (isCustomLocalArrayAvailable && isCustomMainArrayLarger) {\n        // if main array is larger\n        if (isCustomMainArrayLarger) {\n          for (let main = 0; main < data.custom_page_promo_ids.length; main++) {\n            for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\n              if (data.custom_page_local_ids[localId] === activePageId.id && data.custom_page_promo_ids[main] === activePageId.id) {\n                return true;\n              } else {\n                return false;\n              }\n            }\n          }\n        } else {\n          // if local array is larger\n          for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\n            for (let main = 0; main < data.custom_page_promo_ids.length; main++) {\n              if (data.custom_page_local_ids[localId] === activePageId.id && data.custom_page_promo_ids[main] === activePageId.id) {\n                return true;\n              } else {\n                return false;\n              }\n            }\n          }\n        }\n      }\n    }\n  } // checking if url id match with main id array\n\n\n  function isMainPromotrue(data) {\n    if (data.custom_page_promo_ids) {\n      for (let localId = 0; localId < data.custom_page_promo_ids.length; localId++) {\n        if (data.custom_page_promo_ids[localId] === activePageId.id) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      return false;\n    }\n  } // checking if url id match with local id array\n\n\n  function isLocalTrue(data) {\n    if (data.custom_page_local_ids) {\n      for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\n        console.log('localId', localId, '\\n data.custom_page_local_ids.length', data.custom_page_local_ids.length);\n\n        if (data.custom_page_local_ids[localId] === activePageId.id) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      return false;\n    }\n  }\n\n  useEffect(() => {\n    if (getPathways) {\n      pathwayStore.addMany(getPathways);\n    }\n\n    if (getOffers) {\n      offerStore.addMany(getOffers);\n    }\n\n    if (getProviders) {\n      providerStore.addMany(getProviders);\n    }\n\n    if (getDataField) {\n      providerStore.addMany(getDataField);\n    }\n  }, [getPathways, getOffers, getProviders, getDataField]);\n\n  const getBannerApi = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      let token = JSON.parse(localStorage.getItem(\"currentSession\"));\n      let user_id = token.id;\n      let user_role = token.role;\n      let page_id = activePageId.id; // let urlAfterSlash='',pageUrl=activePageId.page_route===\"default\"? activePageId.page_route:activePageId.page_route.split('/');\n      // if(pageUrl === \"default\"){\n      //   urlAfterSlash=\"default\"\n      // }else{\n      //   for(let i=3;i<pageUrl.length;i++){\n      //     urlAfterSlash=urlAfterSlash+ pageUrl[i] + \"/\";\n      //     console.log('urlAfterSlash',urlAfterSlash.slice(0, -1))\n      //   }\n      // }\n      // let page_url_check =urlAfterSlash.slice(0, -1);\n\n      console.log('page_url_check', page_id);\n      console.log(\"filesdataaaa\", user_id, user_role);\n      let Data = yield axios.get(`${process.env.REACT_APP_API_URL}/api/v1/files/get_banner_list/${page_id}`);\n      return Data;\n    });\n\n    return function getBannerApi() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getBannerApi().then(resp => {\n      // console.log(resp, \"resp\")\n      // let finaldata = []\n      // resp.data.data.map((item,i) => {\n      //   let imagedata = item.landing_imageshowCustomPromotionSetting\n      //   imagedata && imagedata.map(it => {\n      //     let parsedata = JSON.parse(it)\n      //     finaldata.push(parsedata)\n      //   })\n      // })\n      setBannerList(resp.data.data); // console.log(finaldata, \"parssssssssssss\")\n    }).catch(error => {\n      console.log(error, \"error\");\n    });\n  }, []); // const handleMultipleDropdown = (value) => {\n  //   // console.log('valeue', value)\n  //   setSelectedTopicValue(value)\n  // }\n  // submit selected option in promotion page\n  // const submitSelectedTopics = (event) => {\n  //   // console.log('electedTopicValue', selectedTopicValue)\n  //   updateData(selectedTopicValue).then(resp => {\n  //     // console.log(resp, \"reeeeeeeee\")\n  //   }).catch(error => {\n  //     console.log(error, \"errroor\")\n  //   })\n  // }\n\n  const onChangeUpload = e => {\n    let emailvalue = _objectSpread(_objectSpread({}, inputFile), {}, {\n      files: e.target.files\n    });\n\n    setInputFile(emailvalue);\n\n    if (e.target.files.length) {\n      handleButton(e.target.files);\n    }\n  };\n\n  const handleButton = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator(function* (files) {\n      // console.log(files)\n      yield fileDataApi(files).then( /*#__PURE__*/function () {\n        var _ref8 = _asyncToGenerator(function* (resp) {\n          // console.log(resp, \"responssssssssssss\")\n          setFileData(resp.data.data);\n        });\n\n        return function (_x9) {\n          return _ref8.apply(this, arguments);\n        };\n      }()).catch(error => {\n        console.log(error, \"erorrr\");\n      });\n    });\n\n    return function handleButton(_x8) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  const notify = msg => {\n    if (msg == \"error\") {\n      toast.error(\"Please send the valid params\");\n    } else if (msg == \"success\") {\n      toast.success(\"Data Save Successfully\");\n    } else if (msg == \"netork\") {\n      toast.network(\"Network error Please check again\");\n    }\n  };\n\n  const fileDataApi = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator(function* (inputFile) {\n      let fileData = inputFile; // console.log(\"filesdataaaa\", fileData)\n\n      const data = new FormData();\n\n      var _iterator = _createForOfIteratorHelper(fileData),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          const File = _step.value;\n          data.append('files', File);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      let pdfData = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/upload_single_file`, data, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return pdfData;\n    });\n\n    return function fileDataApi(_x10) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  const addFileData = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator(function* ({\n      fileData,\n      inputFile\n    }) {\n      let token = JSON.parse(localStorage.getItem(\"currentSession\"));\n      let user_id = token.id;\n      let user_role = token.role;\n      let landing_image = fileData; // let page_url_check = activePageId.page_route;\n\n      let page_url_check = activePageId.page_route === \"default\" ? activePageId.page_route : activePageId.page_route.split('/')[3];\n      let page_id = activePageId.id;\n\n      function addhttp(url) {\n        if (!/^(?:f|ht)tps?\\:\\/\\//.test(url)) {\n          url = \"http://\" + url;\n        }\n\n        return url;\n      }\n\n      const valueNew = addhttp(inputFile.name); // var prefix = 'http://';\n\n      let image_url = valueNew; // console.log(\"img\",image_url)\n\n      let pdfData = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/add_banner_files`, {\n        user_id,\n        user_role,\n        landing_image,\n        image_url,\n        page_url_check,\n        page_id\n      });\n      return pdfData;\n    });\n\n    return function addFileData(_x11) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  const handleSubmit = () => {\n    addFileData({\n      fileData,\n      inputFile\n    }).then(resp => {\n      // console.log(resp, \"resssssssssssssss\")\n      notify(\"success\");\n      setIsHide(true);\n      setInputFile({\n        name: \"\"\n      }); // setInputFile({files:\"\"})\n\n      getBannerApi().then(resp => {\n        setBannerList(resp.data.data);\n      });\n    }).catch(error => {\n      console.log(\"error\", error);\n    });\n  };\n\n  const handleInput = e => {\n    let text = _objectSpread(_objectSpread({}, inputFile), {}, {\n      name: e.target.value\n    });\n\n    setInputFile(text);\n\n    if (isHide) {\n      let text = _objectSpread(_objectSpread({}, inputFile), {}, {\n        name: \"\"\n      });\n\n      setInputFile(text);\n    }\n  };\n\n  const handleLink = text => {\n    // console.log(\"teeeeeeeee\", text)\n    window.open(`${text.image_url}`); // window.location.href = text.image_url;\n  };\n\n  const _useState23 = useState(false),\n        _useState24 = _slicedToArray(_useState23, 2),\n        isPrefilledTopic = _useState24[0],\n        setIsPrefilledTopic = _useState24[1]; // const [customPageUrlArray,setCustomPageUrlArray]=useState([])\n  // hold the selected value of topics in dropdown\n\n\n  const handleMultipleDropdown = value => {\n    console.log('valeue', value);\n    setSelectedTopicValue(value);\n    setPreCheckedTopic(value);\n\n    if (value.length === 0) {\n      setIsPrefilledTopic(false);\n    } else {}\n  }; // submit selected option in promotion page\n\n\n  const submitSelectedTopics = event => {\n    let customUrlArray = [],\n        page_id = [];\n    customUrlArray.push(activePageId.page_route);\n    page_id.push(activePageId.id);\n    let page_url_check = customUrlArray;\n    updateData(selectedTopicValue, page_url_check).then(resp => {\n      console.log(resp, \"reeeeeeeee\");\n      getUpdateTopicList(selectedTopicValue, page_url_check, page_id);\n    }).catch(error => {\n      console.log(error, \"errroor\");\n    });\n  }; // submit selected option in promotion page\n\n\n  const removeSelectedTopics = event => {\n    let page_url_check = activePageId.page_route;\n    let page_id = [];\n    page_id.push(activePageId.id);\n    deleteTopicData(selectedTopicValue, page_url_check).then(resp => {\n      console.log(resp, \"reeeeeeeee\");\n      getUpdateTopicList(selectedTopicValue, page_url_check, page_id); // getTopicsList();\n    }).catch(error => {\n      console.log(error, \"errroor\");\n    });\n  };\n\n  const getUpdateTopicList = (selectedTopicValue, page_url_check, page_id) => {\n    updateTopicRoute(selectedTopicValue, page_url_check, page_id).then(resp => {\n      console.log(resp, \"reeeeeeeee\");\n      getTopicsList();\n    }).catch(error => {\n      console.log(error, \"errroor\");\n    });\n  };\n\n  const _useState25 = useState([]),\n        _useState26 = _slicedToArray(_useState25, 2),\n        preCheckedTopics = _useState26[0],\n        setPreCheckedTopic = _useState26[1];\n\n  function setPrecheckedValue() {\n    let idArray = [];\n\n    if (getDataField) {\n      for (let i = 0; i < getDataField.length; i++) {\n        if (getDataField[i].is_check_topic) {\n          idArray.push(getDataField[i].id);\n        } else {}\n      }\n\n      setPreCheckedTopic(idArray);\n      setSelectedTopicValue(idArray);\n\n      if (idArray.length) {\n        setIsPrefilledTopic(true);\n      } else {\n        setIsPrefilledTopic(false);\n      }\n    }\n  }\n\n  useEffect(() => {\n    setPrecheckedValue();\n  }, [getDataField]); // console.log(\"bannerList\", bannerList)\n\n  const getData = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator(function* () {\n      let Data = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/get_page`);\n      return Data;\n    });\n\n    return function getData() {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getData().then(resp => {\n      console.log(resp, \"reeeeeeeeeeeee\");\n\n      if (resp.status == 200) {\n        setGetValue(resp.data.data);\n      }\n    }).catch(error => {\n      console.log(error, \"errrrrrrrrrrrr\");\n    });\n  }, []); // console.log(\"getttttttttttt\", getValue)\n  // const [activePageName,setActivePageName]=useState('default');\n  // saving page id \n\n  const savePageId = pageData => {\n    if (pageData) {\n      setActivePageId(pageData);\n    } else {\n      setActivePageId({\n        id: 0,\n        page_route: \"default\"\n      });\n    }\n\n    setSearchString('');\n    setShowPromoted(true);\n    setInputFile({\n      files: [],\n      name: \"\"\n    });\n    setIsHide(false);\n    setFileData([]);\n  };\n\n  useEffect(() => {\n    customPageBannerApi(); // showCustomPromotionSetting();\n\n    getTopicsList();\n  }, [activePageId, searchString]); // calling banner image api\n\n  const customPageBannerApi = () => {\n    getBannerApi().then(resp => {\n      setBannerList(resp.data.data); // console.log(finaldata, \"parssssssssssss\")\n    }).catch(error => {\n      console.log(error, \"error\");\n    });\n  }; // Show active promotion setting which is set during custom url\n\n\n  const showCustomPromotionSetting = () => {\n    if (activePageId.id === 0) {// return showData\n    } else {\n      console.log('alldata', data); // let showData = [];\n\n      for (let i = 0; i < data.length; i++) {\n        console.log('showCustomPromotionSetting For Loope', data[i]); // check if local and main are true\n\n        let isBothTrue = data[i].is_local_promo && data[i].is_main_promo,\n            // check if local and main are true then we set local false\n        isLocalPromoTrue = isBothTrue ? false : data[i].is_local_promo,\n            // check if local and main are true then we set main false\n        isMainPromo = isBothTrue ? false : data[i].is_main_promo; // checking if custom_page_promo_ids available\n\n        let isCustomMainArrayAvailable = data[i].custom_page_promo_ids ? true : false,\n            // checking if custom_page_local_ids available\n        isCustomLocalArrayAvailable = data[i].custom_page_local_ids ? true : false,\n            // checking if main array is larger\n        isCustomMainArrayLarger = isCustomMainArrayAvailable ? data[i].custom_page_promo_ids.length > data[i].custom_page_local_ids.length : false;\n\n        if (isBothTrue) {\n          // if both array have same length\n          if (data[i].custom_page_promo_ids.length === data[i].custom_page_local_ids.length) {\n            for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\n              if (data[i].custom_page_local_ids[localId] === activePageId.id && data[i].custom_page_promo_ids[localId] === activePageId.id) {\n                showData.push(data[i]);\n              }\n            }\n\n            return showData;\n          } else {\n            // check if both array are available\n            if (isCustomLocalArrayAvailable && isCustomMainArrayLarger) {\n              // if main array is larger\n              if (isCustomMainArrayLarger) {\n                for (let main = 0; main < data[i].custom_page_promo_ids; main++) {\n                  for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\n                    console.log('data[i].custom_page_local_ids[localId]', data[i].custom_page_local_ids[localId], '\\n data[i].custom_page_local_ids', data[i].custom_page_local_ids);\n\n                    if (data[i].custom_page_local_ids[localId] === activePageId.id && data[i].custom_page_promo_ids[main] === activePageId.id) {\n                      showData.push(data[i]);\n                    }\n                  }\n                }\n\n                return showData;\n              } else {\n                // if local array is larger\n                for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\n                  for (let main = 0; main < data[i].custom_page_promo_ids; main++) {\n                    if (data[i].custom_page_local_ids[localId] === activePageId.id && data[i].custom_page_promo_ids[main] === activePageId.id) {\n                      showData.push(data[i]);\n                    }\n                  }\n                }\n\n                return showData;\n              }\n            }\n          }\n\n          console.log('isBothTrue', showData); // return showData\n        } else if (isLocalPromoTrue) {\n          for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\n            console.log('localId', localId, '\\n data[i].custom_page_local_ids.length', data[i].custom_page_local_ids.length);\n\n            if (data[i].custom_page_local_ids[localId] === activePageId.id) {\n              showData.push(data[i]);\n            }\n          }\n\n          console.log('isLocalPromoTrue', showData);\n          return showData;\n        } else if (isMainPromo) {\n          if (data[i].custom_page_promo_ids) {\n            for (let localId = 0; localId < data[i].custom_page_promo_ids.length; localId++) {\n              console.log('localId', localId, '\\n data[i].custom_page_promo_ids.length', data[i].custom_page_promo_ids.length);\n\n              if (data[i].custom_page_promo_ids[localId] === activePageId.id) {\n                showData.push(data[i]);\n              }\n            }\n\n            console.log('isMainPromo', showData);\n            return showData;\n          }\n        } else {\n          return showData;\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    className: \"bg-transparent h-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"default_home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 774,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => savePageId(''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 9\n    }\n  }, \"Default Home\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"default_link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 9\n    }\n  }, getValue && getValue.length && getValue.map(item => {\n    let data = {\n      id: item.id,\n      page_route: item.page_route\n    };\n    return /*#__PURE__*/React.createElement(Button, {\n      onClick: () => savePageId(data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 56\n      }\n    }, item.page_route));\n  })), /*#__PURE__*/React.createElement(LogOutTopbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchHeader, {\n    title: \"PROMOTIONS\",\n    onSearch: handleDataSearch,\n    onChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Popover, {\n    content: filterContent,\n    trigger: \"click\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"rounded ml-1 px-4 text-center\",\n    type: \"primary\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"text-white text-xs\",\n    icon: faFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(Content, {\n    className: \"p-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TitleDivider, {\n    title: \"Choose Topic\",\n    styles: {\n      leftContainer: {\n        backgroundColor: '#4a5568'\n      },\n      rightContainer: {\n        backgroundColor: '#4a5568'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 797,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    allowClear: true,\n    className: \"w-full custom-select ml-1\",\n    value: selectedTopicValue // defaultValue={preCheckedTopics}\n    ,\n    onChange: handleMultipleDropdown,\n    showSearch: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 9\n    }\n  }, preloadOptions(getDataField)), selectedTopicValue.length ? /*#__PURE__*/React.createElement(Button, {\n    className: \"rounded ml-1 px-4 text-center change_topic_btn\",\n    type: \"primary\",\n    size: \"small\",\n    onClick: submitSelectedTopics,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 818,\n      columnNumber: 39\n    }\n  }, \"Submit\") : '', isPrefilledTopic ? /*#__PURE__*/React.createElement(Button, {\n    className: \"rounded ml-1 px-4 text-center change_topic_btn\",\n    type: \"primary\",\n    size: \"small\",\n    onClick: removeSelectedTopics,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 30\n    }\n  }, \"Remove\") : '', /*#__PURE__*/React.createElement(TitleDivider, {\n    title: \"My Promotions\",\n    styles: {\n      leftContainer: {\n        backgroundColor: '#4a5568'\n      },\n      rightContainer: {\n        backgroundColor: '#4a5568'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shadow-md rounded-md w-full bg-white h-full pt-4 px-5 flex flex-wrap mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 9\n    }\n  }, showData.length && showData.filter(function ({\n    main_promoted_by_user_ids,\n    local_promoted_by_user_ids\n  }) {\n    return main_promoted_by_user_ids && main_promoted_by_user_ids.length ? main_promoted_by_user_ids.includes(adminId) : false || local_promoted_by_user_ids && local_promoted_by_user_ids.length ? local_promoted_by_user_ids.includes(adminId) : false;\n  }).map((d, index) => {\n    return /*#__PURE__*/React.createElement(PromoteCard, {\n      key: index,\n      data: d,\n      session: session,\n      activePageId: activePageId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 861,\n        columnNumber: 24\n      }\n    });\n  }) || /*#__PURE__*/React.createElement(Empty, {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 862,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(TitleDivider, {\n    title: \"Other Promotions\\t& Search Results\",\n    styles: {\n      leftContainer: {\n        backgroundColor: '#4a5568'\n      },\n      rightContainer: {\n        backgroundColor: '#4a5568'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 864,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"shadow-md rounded-md w-full bg-white h-full pt-4 px-5 flex flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 9\n    }\n  }, showData.length && showData.map((d, index) => {\n    return /*#__PURE__*/React.createElement(PromoteCard, {\n      key: index,\n      data: d,\n      session: session,\n      activePageId: activePageId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 878,\n        columnNumber: 22\n      }\n    });\n  }) || /*#__PURE__*/React.createElement(Empty, {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 879,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(TitleDivider, {\n    title: \"Landing Page Image\",\n    styles: {\n      leftContainer: {\n        backgroundColor: '#4a5568'\n      },\n      rightContainer: {\n        backgroundColor: '#4a5568'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Layout, {\n    className: \"h-auto mb-6 opportunity_choose\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 892,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"landing_page_image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 893,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 13\n    }\n  }, \"Landing Page Image\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    multiple: true,\n    type: \"file\",\n    name: \"file\",\n    onChange: e => onChangeUpload(e, \"files\"),\n    accept: \"image/*,video/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 896,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 15\n    }\n  }, \"Choose\"), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"label\",\n    \"data-js-label\": true,\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"landing_browse\",\n    placeholder: isHide ? inputFile.name : \"Please Enter URL\",\n    onChange: e => handleInput(e),\n    value: inputFile === null || inputFile === void 0 ? void 0 : inputFile.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image_block_opportunity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 13\n    }\n  }, fileData && fileData.length > 0 ? fileData.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      src: item.original,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 904,\n        columnNumber: 19\n      }\n    });\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleSubmit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 909,\n      columnNumber: 15\n    }\n  }, \"Submit\")))), /*#__PURE__*/React.createElement(Table, {\n    ref: bannerList // loading={loading}\n    ,\n    pagination: {\n      pageSize: 8\n    },\n    dataSource: bannerList,\n    bordered: true,\n    className: \"ant-table-wrapper--responsive\",\n    rowClassName: () => 'antd-row',\n    rowKey: \"id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    className: \"antd-col\",\n    title: \"Listing\",\n    dataIndex: \"image_url\",\n    key: \"image_url\",\n    render: (text, record) => ({\n      children: text,\n      props: {\n        'image_url': 'image_url'\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    className: \"antd-col\" // title=\"pdf_link\"\n    ,\n    key: \"image_url\",\n    render: (text, record, index) => ({\n      children: /*#__PURE__*/React.createElement(Button, {\n        onClick: () => handleLink(text),\n        title: \"PDF Listing\",\n        dataIndex: \"original\",\n        key: \"image_url\",\n        render: (text, record) => ({\n          children: text,\n          props: {\n            'image_url': 'image_url'\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 17\n        }\n      }, \"click here\"),\n      props: {\n        'image_url': 'image_url'\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 935,\n      columnNumber: 11\n    }\n  }))));\n};\n\n__signature__(_default, \"useState{[searchString, setSearchString]('')}\\nuseState{[showPromoted, setShowPromoted](true)}\\nuseState{[fileData, setFileData]}\\nuseState{[inputFile, setInputFile]({\\r\\n    files: [],\\r\\n    name: \\\"\\\"\\r\\n  })}\\nuseState{[getValue, setGetValue]}\\nuseState{[isHide, setIsHide](false)}\\nuseState{[bannerList, setBannerList]([])}\\nuseState{[filters, setFilters]({\\r\\n    offer: true,\\r\\n    pathway: true,\\r\\n    provider: true,\\r\\n  })}\\nuseGlobalStore{{\\r\\n    provider: providerStore,\\r\\n    pathway: pathwayStore,\\r\\n    offer: offerStore,\\r\\n    datafield: dataFieldStore\\r\\n  }}\\nuseAxios{[{ data: getPathways }]}\\nuseAxios{[{ data: getOffers }]}\\nuseAxios{[{ data: getProviders }]}\\nuseAxios{[{ data: getDataField }]}\\nuseState{[activePageId, setActivePageId]({\\r\\n    id: 0,\\r\\n    page_route: \\\"default\\\"\\r\\n  })}\\nuseState{[selectedTopicValue, setSelectedTopicValue]([])}\\nuseState{[cardButtonStatus,setcardButtonStatus]({\\r\\n    mainButtonStatus:false,\\r\\n    localButtonStatus:false\\r\\n  })}\\nuseEffect{}\\nuseEffect{}\\nuseState{[isPrefilledTopic, setIsPrefilledTopic](false)}\\nuseState{[preCheckedTopics, setPreCheckedTopic]([])}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\", () => [useGlobalStore, useAxios, useAxios, useAxios, useAxios]);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(axios, \"axios\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\");\n  reactHotLoader.register(Column, \"Column\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\");\n  reactHotLoader.register(Content, \"Content\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\");\n  reactHotLoader.register(Option, \"Option\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\");\n  reactHotLoader.register(preloadOptions, \"preloadOptions\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromotionContainer.js"],"names":["React","useState","useEffect","Layout","Button","Empty","Popover","Switch","Row","Col","Select","Table","FontAwesomeIcon","faFilter","matchSorter","useAxios","configure","axiosInstance","LogOutTopbar","SearchHeader","TitleDivider","useGlobalStore","PromoteCard","getGenericData","ToastContainer","toast","Avatar","axios","require","default","Column","Content","Option","preloadOptions","data","map","item","index","id","toString","name","props","session","adminId","searchString","setSearchString","showPromoted","setShowPromoted","fileData","setFileData","files","inputFile","setInputFile","getValue","setGetValue","isHide","setIsHide","bannerList","setBannerList","offer","pathway","provider","filters","setFilters","providerStore","pathwayStore","offerStore","dataFieldStore","datafield","getPathways","getOffers","getProviders","getDataField","page_route","activePageId","setActivePageId","offers","Object","values","entities","o","entity_type","providers","p","pathways","toggleFilter","key","selectedTopicValue","setSelectedTopicValue","getTopicsList","console","log","getAllTopicData","then","res","idArray","length","i","is_check_topic","page_id","x","push","filter","inputArray","indexOf","setPreCheckedTopic","setIsPrefilledTopic","catch","err","Data","get","process","env","REACT_APP_API_URL","updateData","page_url_check","user_id","post","updateTopicRoute","deleteTopicData","filterContent","handleDataSearch","searchVal","handleOnChange","event","value","target","handleDataAfterSearch","keys","mainButtonStatus","localButtonStatus","cardButtonStatus","setcardButtonStatus","showData","d","isBothTrue","is_local_promo","is_main_promo","isLocalPromoTrue","isMainPromo","status","isBothLocalMainTrue","isLocalTrue","isMainPromotrue","isCustomMainArrayAvailable","custom_page_promo_ids","isCustomLocalArrayAvailable","custom_page_local_ids","isCustomMainArrayLarger","localId","main","addMany","getBannerApi","token","JSON","parse","localStorage","getItem","user_role","role","resp","error","onChangeUpload","e","emailvalue","handleButton","fileDataApi","notify","msg","success","network","FormData","File","append","pdfData","headers","addFileData","landing_image","split","addhttp","url","test","valueNew","image_url","handleSubmit","handleInput","text","handleLink","window","open","isPrefilledTopic","handleMultipleDropdown","submitSelectedTopics","customUrlArray","getUpdateTopicList","removeSelectedTopics","preCheckedTopics","setPrecheckedValue","getData","savePageId","pageData","customPageBannerApi","showCustomPromotionSetting","leftContainer","backgroundColor","rightContainer","main_promoted_by_user_ids","local_promoted_by_user_ids","includes","display","original","pageSize","record","children"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Layout, Button, Empty, Popover, Switch, Row, Col, Select, Table } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFilter } from '@fortawesome/free-solid-svg-icons';\r\nimport matchSorter from 'match-sorter';\r\nimport useAxios, { configure } from 'axios-hooks';\r\nimport axiosInstance from 'services/AxiosInstance';\r\nimport { LogOutTopbar, SearchHeader, TitleDivider } from 'components/shared';\r\nimport useGlobalStore from 'store/GlobalStore';\r\nimport PromoteCard from 'components/promotion/PromoteCard/PromoteCard';\r\nimport { getGenericData } from 'components/datafield/GenericContainer';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Avatar from 'antd/lib/avatar/avatar';\r\n\r\nconst axios = require('axios').default;\r\nconst { Column } = Table;\r\ntoast.configure();\r\n\r\nconfigure({\r\n  axios: axiosInstance,\r\n});\r\n\r\nconst { Content } = Layout;\r\nconst { Option } = Select;\r\n\r\nconst preloadOptions = (data = []) =>\r\n  data.map((item, index) => {\r\n    return (\r\n      <Option value={item.id} key={index.toString()}>\r\n        {item.name}\r\n      </Option>\r\n    );\r\n  });\r\n\r\nexport default function (props) {\r\n  const { session } = props;\r\n  const adminId = session.id;\r\n  const [searchString, setSearchString] = useState('');\r\n  const [showPromoted, setShowPromoted] = useState(true);\r\n  const [fileData, setFileData] = useState()\r\n  const [inputFile, setInputFile] = useState({\r\n    files: [],\r\n    name: \"\"\r\n  })\r\n  const [getValue, setGetValue] = useState()\r\n  const [isHide, setIsHide] = useState(false)\r\n  const [bannerList, setBannerList] = useState([])\r\n  const [filters, setFilters] = useState({\r\n    offer: true,\r\n    pathway: true,\r\n    provider: true,\r\n  });\r\n  const {\r\n    provider: providerStore,\r\n    pathway: pathwayStore,\r\n    offer: offerStore,\r\n    datafield: dataFieldStore\r\n  } = useGlobalStore();\r\n\r\n  const [{ data: getPathways }] = useAxios('/pathways?scope=with_files');\r\n  const [{ data: getOffers }] = useAxios('/offers?scope=with_files');\r\n  const [{ data: getProviders }] = useAxios('/providers?scope=with_files');\r\n  const [{ data: getDataField }] = useAxios('/datafields?type=topic');\r\n\r\n  const [activePageId, setActivePageId] = useState({\r\n    id: 0,\r\n    page_route: \"default\"\r\n  });\r\n\r\n  // const [selectedTopicValue, setSelectedTopicValue] = useState([]);\r\n\r\n  const offers = Object.values(offerStore.entities).map((o) => {\r\n    return {\r\n      ...o,\r\n      entity_type: 'offer',\r\n    };\r\n  });\r\n\r\n  const providers = Object.values(providerStore.entities).map((p) => {\r\n    return {\r\n      ...p,\r\n      entity_type: 'provider',\r\n    };\r\n  });\r\n\r\n  const pathways = Object.values(pathwayStore.entities).map((p) => {\r\n    return {\r\n      ...p,\r\n      entity_type: 'pathway',\r\n    };\r\n  });\r\n\r\n  const datafield = Object.values(dataFieldStore.entities).map((p) => {\r\n    return {\r\n      ...p,\r\n      entity_type: 'datafield',\r\n    };\r\n  });\r\n\r\n  const data = [...offers, ...pathways, ...providers];\r\n\r\n  function toggleFilter(key = 'offer') {\r\n    setFilters({\r\n      ...filters,\r\n      [key]: !filters[key],\r\n    });\r\n  }\r\n\r\n  const [selectedTopicValue, setSelectedTopicValue] = useState([]);\r\n\r\n  const getTopicsList = async () => {\r\n    console.log('getTopicsList', data)\r\n    getAllTopicData().then(res => {\r\n      let idArray = [], getDataField = res.data.length ? res.data : [];\r\n      if (getDataField) {\r\n        for (let i = 0; i < getDataField.length; i++) {\r\n          if (getDataField[i].is_check_topic) {\r\n            if (getDataField[i].page_id.length) {\r\n              for (let x = 0; x < getDataField[i].page_id.length; x++) {\r\n                if (getDataField[i].page_id[x] === activePageId.id) {\r\n                  idArray.push(getDataField[i].id);\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n          }\r\n        }\r\n        idArray = idArray.filter(function (item, index, inputArray) {\r\n          return inputArray.indexOf(item) == index;\r\n        });\r\n        setPreCheckedTopic(idArray);\r\n        setSelectedTopicValue(idArray);\r\n        if (idArray.length) {\r\n          setIsPrefilledTopic(true)\r\n        } else {\r\n          setIsPrefilledTopic(false)\r\n        }\r\n      }\r\n    }).catch(err => {\r\n      console.log(err, 'err')\r\n    })\r\n  }\r\n\r\n\r\n  const getAllTopicData = async () => {\r\n    let Data = await axios.get(`${process.env.REACT_APP_API_URL}/api/v1/datafields?type=topic`);\r\n    return Data\r\n  }\r\n\r\n  // update topic data in topic list when user submit\r\n  const updateData = async (selectedTopicValue, page_url_check) => {\r\n    console.log(\"-----------\", selectedTopicValue)\r\n    let user_id = selectedTopicValue\r\n    let Data = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/update_topic`, {\r\n      user_id, page_url_check\r\n    })\r\n    return Data\r\n  }\r\n\r\n  // update topic data in topic list when user submit\r\n  const updateTopicRoute = async (selectedTopicValue, page_url_check, page_id) => {\r\n    console.log(\"-----------\", selectedTopicValue)\r\n    let user_id = selectedTopicValue\r\n    let Data = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/update_topic_route`, {\r\n      user_id, page_url_check, page_id\r\n    })\r\n    return Data\r\n  }\r\n  // remove selected topic when user click on remove button\r\n  const deleteTopicData = async (selectedTopicValue, page_url_check) => {\r\n    console.log(\"-----------\", selectedTopicValue)\r\n    let user_id = selectedTopicValue\r\n    let Data = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/delete_topic`, {\r\n      user_id, page_url_check\r\n    })\r\n    return Data\r\n  }\r\n\r\n  function filterContent() {\r\n    return (\r\n      <div>\r\n        <Row className=\"justify-between mb-1\" gutter={6}>\r\n          <Col>Providers</Col>\r\n          <Col>\r\n            <Switch\r\n              size=\"small\"\r\n              defaultChecked={filters.provider}\r\n              onClick={() => toggleFilter('provider')}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-between mb-1\" gutter={6}>\r\n          <Col>Offers</Col>\r\n          <Col>\r\n            <Switch\r\n              size=\"small\"\r\n              defaultChecked={filters.offer}\r\n              onClick={() => toggleFilter('offer')}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-between\" gutter={6}>\r\n          <Col>Pathways</Col>\r\n          <Col>\r\n            <Switch\r\n              size=\"small\"\r\n              defaultChecked={filters.pathway}\r\n              onClick={() => toggleFilter('pathway')}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleDataSearch = (searchVal) => {\r\n    setSearchString(searchVal);\r\n    // return setSearchString(searchVal);\r\n  };\r\n\r\n  const handleOnChange = (event) => {\r\n    // getting value from event object\r\n    let { value } = event.target;\r\n    console.log('handleOnChange', value)\r\n    if (showPromoted) {\r\n      setShowPromoted(false);\r\n    }\r\n    if (value.length === 0) {\r\n      setShowPromoted(true);\r\n    }\r\n    setSearchString(value);\r\n  };\r\n\r\n  const handleDataAfterSearch = (data, keys = ['name', 'keywords']) => {\r\n    return matchSorter(data, searchString, { keys });\r\n  };\r\n  const [cardButtonStatus,setcardButtonStatus]=useState({\r\n    mainButtonStatus:false,\r\n    localButtonStatus:false\r\n  });\r\n  let showData = handleDataAfterSearch(data);\r\n  if (showPromoted) {\r\n    showData = showData.filter((d) => {\r\n      // check if local and main are true\r\n      let isBothTrue = d.is_local_promo && d.is_main_promo,\r\n        // check if local and main are true then we set local false\r\n        isLocalPromoTrue = isBothTrue ? false : d.is_local_promo,\r\n        // check if local and main are true then we set main false\r\n        isMainPromo = isBothTrue ? false : d.is_main_promo;\r\n\r\n      if (filters.offer && d.entity_type === 'offer') {\r\n        if (isBothTrue) {\r\n          let status = isBothLocalMainTrue(d);\r\n          return status;\r\n        } else if (isLocalPromoTrue) {\r\n          let status = isLocalTrue(d)\r\n          return status;\r\n        } else if (isMainPromo) {\r\n          let status = isMainPromotrue(d);\r\n          return status;\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n      if (filters.provider && d.entity_type === 'provider') {\r\n        if (isBothTrue) {\r\n          let status = isBothLocalMainTrue(d);\r\n          return status;\r\n        } else if (isLocalPromoTrue) {\r\n          let status = isLocalTrue(d)\r\n          return status;\r\n        } else if (isMainPromo) {\r\n          let status = isMainPromotrue(d);\r\n          return status;\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n      if (filters.pathway && d.entity_type === 'pathway') {\r\n        if (isBothTrue) {\r\n          let status = isBothLocalMainTrue(d);\r\n          return status;\r\n        } else if (isLocalPromoTrue) {\r\n          let status = isLocalTrue(d)\r\n          return status;\r\n        } else if (isMainPromo) {\r\n          let status = isMainPromotrue(d);\r\n          return status;\r\n        } else {\r\n          return false\r\n        }\r\n        // return true;\r\n      }\r\n      return false;\r\n    });\r\n  } else {\r\n    showData = showData.filter((d) => {\r\n      if (filters.offer && d.entity_type === 'offer') {\r\n        return true;\r\n      }\r\n      if (filters.provider && d.entity_type === 'provider') {\r\n        return true;\r\n      }\r\n      if (filters.pathway && d.entity_type === 'pathway') {\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n\r\n \r\n\r\n  function isBothLocalMainTrue(data) {\r\n    // checking if custom_page_promo_ids available\r\n    let isCustomMainArrayAvailable = data.custom_page_promo_ids ? true : false,\r\n      // checking if custom_page_local_ids available\r\n      isCustomLocalArrayAvailable = data.custom_page_local_ids ? true : false,\r\n      // checking if main array is larger\r\n      isCustomMainArrayLarger = isCustomMainArrayAvailable ? data.custom_page_promo_ids.length > data.custom_page_local_ids.length : false;\r\n    // if both array have same length\r\n    if (data.custom_page_promo_ids.length === data.custom_page_local_ids.length) {\r\n      for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\r\n        if (data.custom_page_local_ids[localId] === activePageId.id && data.custom_page_promo_ids[localId] === activePageId.id) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n    } else {\r\n      // check if both array are available\r\n      if (isCustomLocalArrayAvailable && isCustomMainArrayLarger) {\r\n        // if main array is larger\r\n        if (isCustomMainArrayLarger) {\r\n          for (let main = 0; main < data.custom_page_promo_ids.length; main++) {\r\n            for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\r\n              if (data.custom_page_local_ids[localId] === activePageId.id && data.custom_page_promo_ids[main] === activePageId.id) {\r\n                return true\r\n              } else {\r\n                return false\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          // if local array is larger\r\n          for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\r\n            for (let main = 0; main < data.custom_page_promo_ids.length; main++) {\r\n              if (data.custom_page_local_ids[localId] === activePageId.id && data.custom_page_promo_ids[main] === activePageId.id) {\r\n                return true\r\n              } else {\r\n                return false\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // checking if url id match with main id array\r\n  function isMainPromotrue(data) {\r\n    if (data.custom_page_promo_ids) {\r\n      for (let localId = 0; localId < data.custom_page_promo_ids.length; localId++) {\r\n        if (data.custom_page_promo_ids[localId] === activePageId.id) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  // checking if url id match with local id array\r\n  function isLocalTrue(data) {\r\n    if (data.custom_page_local_ids) {\r\n      for (let localId = 0; localId < data.custom_page_local_ids.length; localId++) {\r\n        console.log('localId', localId, '\\n data.custom_page_local_ids.length', data.custom_page_local_ids.length)\r\n        if (data.custom_page_local_ids[localId] === activePageId.id) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (getPathways) {\r\n      pathwayStore.addMany(getPathways);\r\n    }\r\n    if (getOffers) {\r\n      offerStore.addMany(getOffers);\r\n    }\r\n    if (getProviders) {\r\n      providerStore.addMany(getProviders);\r\n    }\r\n    if (getDataField) {\r\n      providerStore.addMany(getDataField)\r\n    }\r\n  }, [getPathways, getOffers, getProviders, getDataField]);\r\n\r\n  const getBannerApi = async () => {\r\n    let token = JSON.parse(localStorage.getItem(\"currentSession\"))\r\n    let user_id = token.id\r\n    let user_role = token.role\r\n    let page_id = activePageId.id;\r\n    // let urlAfterSlash='',pageUrl=activePageId.page_route===\"default\"? activePageId.page_route:activePageId.page_route.split('/');\r\n    // if(pageUrl === \"default\"){\r\n    //   urlAfterSlash=\"default\"\r\n    // }else{\r\n    //   for(let i=3;i<pageUrl.length;i++){\r\n    //     urlAfterSlash=urlAfterSlash+ pageUrl[i] + \"/\";\r\n    //     console.log('urlAfterSlash',urlAfterSlash.slice(0, -1))\r\n    //   }\r\n    // }\r\n    // let page_url_check =urlAfterSlash.slice(0, -1);\r\n    console.log('page_url_check', page_id)\r\n    console.log(\"filesdataaaa\", user_id, user_role)\r\n    let Data = await axios.get(`${process.env.REACT_APP_API_URL}/api/v1/files/get_banner_list/${page_id}`)\r\n    return Data\r\n  }\r\n\r\n  useEffect(() => {\r\n    getBannerApi().then(resp => {\r\n      // console.log(resp, \"resp\")\r\n      // let finaldata = []\r\n      // resp.data.data.map((item,i) => {\r\n      //   let imagedata = item.landing_imageshowCustomPromotionSetting\r\n      //   imagedata && imagedata.map(it => {\r\n      //     let parsedata = JSON.parse(it)\r\n      //     finaldata.push(parsedata)\r\n      //   })\r\n      // })\r\n      setBannerList(resp.data.data)\r\n      // console.log(finaldata, \"parssssssssssss\")\r\n    }).catch(error => {\r\n      console.log(error, \"error\")\r\n    })\r\n  }, [])\r\n\r\n  // const handleMultipleDropdown = (value) => {\r\n  //   // console.log('valeue', value)\r\n  //   setSelectedTopicValue(value)\r\n  // }\r\n\r\n  // submit selected option in promotion page\r\n  // const submitSelectedTopics = (event) => {\r\n  //   // console.log('electedTopicValue', selectedTopicValue)\r\n  //   updateData(selectedTopicValue).then(resp => {\r\n  //     // console.log(resp, \"reeeeeeeee\")\r\n  //   }).catch(error => {\r\n  //     console.log(error, \"errroor\")\r\n  //   })\r\n  // }\r\n\r\n  const onChangeUpload = (e) => {\r\n    let emailvalue = { ...inputFile, files: e.target.files }\r\n    setInputFile(emailvalue)\r\n    if (e.target.files.length) {\r\n      handleButton(e.target.files)\r\n    }\r\n  }\r\n\r\n  const handleButton = async (files) => {\r\n    // console.log(files)\r\n    await fileDataApi(files).then(async resp => {\r\n      // console.log(resp, \"responssssssssssss\")\r\n      setFileData(resp.data.data)\r\n    }).catch(error => {\r\n      console.log(error, \"erorrr\")\r\n    })\r\n  }\r\n  const notify = msg => {\r\n    if (msg == \"error\") {\r\n      toast.error(\"Please send the valid params\")\r\n    } else if (msg == \"success\") {\r\n      toast.success(\"Data Save Successfully\")\r\n    } else if (msg == \"netork\") {\r\n      toast.network(\"Network error Please check again\")\r\n    }\r\n  }\r\n  const fileDataApi = async (inputFile) => {\r\n    let fileData = inputFile\r\n    // console.log(\"filesdataaaa\", fileData)\r\n    const data = new FormData();\r\n    for (const File of fileData) {\r\n      data.append('files', File);\r\n    }\r\n    let pdfData = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/upload_single_file`, data, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    })\r\n    return pdfData\r\n  }\r\n\r\n  const addFileData = async ({ fileData, inputFile }) => {\r\n    let token = JSON.parse(localStorage.getItem(\"currentSession\"))\r\n    let user_id = token.id\r\n    let user_role = token.role\r\n    let landing_image = fileData\r\n    // let page_url_check = activePageId.page_route;\r\n    let page_url_check = activePageId.page_route === \"default\" ? activePageId.page_route : activePageId.page_route.split('/')[3];\r\n    let page_id = activePageId.id;\r\n\r\n    function addhttp(url) {\r\n      if (!/^(?:f|ht)tps?\\:\\/\\//.test(url)) {\r\n        url = \"http://\" + url;\r\n      }\r\n      return url;\r\n    }\r\n    const valueNew = addhttp(inputFile.name)\r\n    // var prefix = 'http://';\r\n    let image_url = valueNew\r\n    // console.log(\"img\",image_url)\r\n    let pdfData = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/add_banner_files`, {\r\n      user_id,\r\n      user_role,\r\n      landing_image,\r\n      image_url,\r\n      page_url_check,\r\n      page_id\r\n    })\r\n    return pdfData\r\n  }\r\n  const handleSubmit = () => {\r\n    addFileData({ fileData, inputFile }).then(resp => {\r\n      // console.log(resp, \"resssssssssssssss\")\r\n      notify(\"success\")\r\n      setIsHide(true)\r\n      setInputFile({ name: \"\" })\r\n      // setInputFile({files:\"\"})\r\n      getBannerApi().then(resp => {\r\n        setBannerList(resp.data.data)\r\n      })\r\n    }).catch(error => {\r\n      console.log(\"error\", error)\r\n    })\r\n  }\r\n\r\n  const handleInput = (e) => {\r\n    let text = { ...inputFile, name: e.target.value }\r\n    setInputFile(text)\r\n    if (isHide) {\r\n      let text = { ...inputFile, name: \"\" }\r\n      setInputFile(text)\r\n    }\r\n  }\r\n\r\n  const handleLink = (text) => {\r\n    // console.log(\"teeeeeeeee\", text)\r\n    window.open(\r\n      `${text.image_url}`);\r\n    // window.location.href = text.image_url;\r\n  }\r\n\r\n  const [isPrefilledTopic, setIsPrefilledTopic] = useState(false);\r\n  // const [customPageUrlArray,setCustomPageUrlArray]=useState([])\r\n\r\n  // hold the selected value of topics in dropdown\r\n  const handleMultipleDropdown = (value) => {\r\n    console.log('valeue', value)\r\n    setSelectedTopicValue(value);\r\n    setPreCheckedTopic(value);\r\n    if (value.length === 0) {\r\n      setIsPrefilledTopic(false)\r\n    } else {\r\n    }\r\n  }\r\n\r\n  // submit selected option in promotion page\r\n  const submitSelectedTopics = (event) => {\r\n    let customUrlArray = [],\r\n      page_id = [];\r\n    customUrlArray.push(activePageId.page_route);\r\n    page_id.push(activePageId.id);\r\n    let page_url_check = customUrlArray;\r\n    updateData(selectedTopicValue, page_url_check).then(resp => {\r\n      console.log(resp, \"reeeeeeeee\")\r\n      getUpdateTopicList(selectedTopicValue, page_url_check, page_id)\r\n    }).catch(error => {\r\n      console.log(error, \"errroor\")\r\n    })\r\n  }\r\n\r\n  // submit selected option in promotion page\r\n  const removeSelectedTopics = (event) => {\r\n    let page_url_check = activePageId.page_route;\r\n    let page_id = [];\r\n    page_id.push(activePageId.id);\r\n    deleteTopicData(selectedTopicValue, page_url_check).then(resp => {\r\n      console.log(resp, \"reeeeeeeee\")\r\n      getUpdateTopicList(selectedTopicValue, page_url_check, page_id)\r\n      // getTopicsList();\r\n    }).catch(error => {\r\n      console.log(error, \"errroor\")\r\n    })\r\n  }\r\n\r\n  const getUpdateTopicList = (selectedTopicValue, page_url_check, page_id) => {\r\n    updateTopicRoute(selectedTopicValue, page_url_check, page_id).then(resp => {\r\n      console.log(resp, \"reeeeeeeee\")\r\n      getTopicsList();\r\n    }).catch(error => {\r\n      console.log(error, \"errroor\")\r\n    })\r\n  }\r\n\r\n  const [preCheckedTopics, setPreCheckedTopic] = useState([]);\r\n\r\n  function setPrecheckedValue() {\r\n    let idArray = [];\r\n    if (getDataField) {\r\n      for (let i = 0; i < getDataField.length; i++) {\r\n        if (getDataField[i].is_check_topic) {\r\n          idArray.push(getDataField[i].id);\r\n        } else {\r\n        }\r\n      }\r\n      setPreCheckedTopic(idArray);\r\n      setSelectedTopicValue(idArray);\r\n      if (idArray.length) {\r\n        setIsPrefilledTopic(true)\r\n      } else {\r\n        setIsPrefilledTopic(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPrecheckedValue()\r\n  }, [getDataField])\r\n  // console.log(\"bannerList\", bannerList)\r\n\r\n  const getData = async () => {\r\n    let Data = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/get_page`)\r\n    return Data\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData().then(resp => {\r\n      console.log(resp, \"reeeeeeeeeeeee\")\r\n      if (resp.status == 200) {\r\n        setGetValue(resp.data.data)\r\n      }\r\n    }).catch(error => {\r\n      console.log(error, \"errrrrrrrrrrrr\")\r\n    })\r\n  }, []);\r\n  // console.log(\"getttttttttttt\", getValue)\r\n\r\n  // const [activePageName,setActivePageName]=useState('default');\r\n  // saving page id \r\n  const savePageId = (pageData) => {\r\n    if (pageData) {\r\n      setActivePageId(pageData)\r\n    } else {\r\n      setActivePageId({id: 0,page_route: \"default\"})\r\n    }\r\n    setSearchString('');\r\n    setShowPromoted(true);\r\n    setInputFile({ files: [], name: \"\" });\r\n    setIsHide(false);\r\n    setFileData([]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    customPageBannerApi();\r\n    // showCustomPromotionSetting();\r\n    getTopicsList();\r\n  }, [activePageId, searchString])\r\n\r\n  // calling banner image api\r\n  const customPageBannerApi = () => {\r\n    getBannerApi().then(resp => {\r\n      setBannerList(resp.data.data)\r\n      // console.log(finaldata, \"parssssssssssss\")\r\n    }).catch(error => {\r\n      console.log(error, \"error\")\r\n    })\r\n  }\r\n\r\n  // Show active promotion setting which is set during custom url\r\n  const showCustomPromotionSetting = () => {\r\n    if (activePageId.id === 0) {\r\n      // return showData\r\n    } else {\r\n      console.log('alldata', data)\r\n      // let showData = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n        console.log('showCustomPromotionSetting For Loope', data[i])\r\n        // check if local and main are true\r\n        let isBothTrue = data[i].is_local_promo && data[i].is_main_promo,\r\n          // check if local and main are true then we set local false\r\n          isLocalPromoTrue = isBothTrue ? false : data[i].is_local_promo,\r\n          // check if local and main are true then we set main false\r\n          isMainPromo = isBothTrue ? false : data[i].is_main_promo;\r\n        // checking if custom_page_promo_ids available\r\n        let isCustomMainArrayAvailable = data[i].custom_page_promo_ids ? true : false,\r\n          // checking if custom_page_local_ids available\r\n          isCustomLocalArrayAvailable = data[i].custom_page_local_ids ? true : false,\r\n          // checking if main array is larger\r\n          isCustomMainArrayLarger = isCustomMainArrayAvailable ? data[i].custom_page_promo_ids.length > data[i].custom_page_local_ids.length : false;\r\n        if (isBothTrue) {\r\n          // if both array have same length\r\n          if (data[i].custom_page_promo_ids.length === data[i].custom_page_local_ids.length) {\r\n            for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\r\n              if (data[i].custom_page_local_ids[localId] === activePageId.id && data[i].custom_page_promo_ids[localId] === activePageId.id) {\r\n                showData.push(data[i])\r\n              }\r\n            }\r\n            return showData\r\n          } else {\r\n            // check if both array are available\r\n            if (isCustomLocalArrayAvailable && isCustomMainArrayLarger) {\r\n              // if main array is larger\r\n              if (isCustomMainArrayLarger) {\r\n                for (let main = 0; main < data[i].custom_page_promo_ids; main++) {\r\n                  for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\r\n                    console.log('data[i].custom_page_local_ids[localId]',\r\n                      data[i].custom_page_local_ids[localId],\r\n                      '\\n data[i].custom_page_local_ids', data[i].custom_page_local_ids)\r\n                    if (data[i].custom_page_local_ids[localId] === activePageId.id && data[i].custom_page_promo_ids[main] === activePageId.id) {\r\n                      showData.push(data[i])\r\n                    }\r\n                  }\r\n                }\r\n                return showData\r\n\r\n              } else {\r\n                // if local array is larger\r\n                for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\r\n                  for (let main = 0; main < data[i].custom_page_promo_ids; main++) {\r\n                    if (data[i].custom_page_local_ids[localId] === activePageId.id && data[i].custom_page_promo_ids[main] === activePageId.id) {\r\n                      showData.push(data[i])\r\n                    }\r\n                  }\r\n                }\r\n                return showData\r\n              }\r\n            }\r\n          }\r\n          console.log('isBothTrue', showData)\r\n          // return showData\r\n        } else if (isLocalPromoTrue) {\r\n          for (let localId = 0; localId < data[i].custom_page_local_ids.length; localId++) {\r\n            console.log('localId', localId, '\\n data[i].custom_page_local_ids.length', data[i].custom_page_local_ids.length)\r\n            if (data[i].custom_page_local_ids[localId] === activePageId.id) {\r\n              showData.push(data[i])\r\n            }\r\n          }\r\n          console.log('isLocalPromoTrue', showData)\r\n          return showData\r\n        } else if (isMainPromo) {\r\n          if (data[i].custom_page_promo_ids) {\r\n            for (let localId = 0; localId < data[i].custom_page_promo_ids.length; localId++) {\r\n              console.log('localId', localId, '\\n data[i].custom_page_promo_ids.length', data[i].custom_page_promo_ids.length)\r\n              if (data[i].custom_page_promo_ids[localId] === activePageId.id) {\r\n                showData.push(data[i])\r\n              }\r\n            }\r\n            console.log('isMainPromo', showData)\r\n            return showData\r\n          }\r\n        } else {\r\n          return showData;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <Layout className=\"bg-transparent h-auto\">\r\n      <div className=\"default_home\">\r\n        <Button onClick={() => savePageId('')}>Default Home</Button>\r\n        </div>\r\n        <div className=\"default_link\">\r\n          {getValue && getValue.length && getValue.map(item => {\r\n            let data = {\r\n              id: item.id,\r\n              page_route: item.page_route\r\n            }\r\n            return (\r\n              <Button onClick={() => savePageId(data)}><p>{item.page_route}</p></Button>)\r\n          })}\r\n          </div>\r\n      <LogOutTopbar>\r\n        <SearchHeader title=\"PROMOTIONS\" onSearch={handleDataSearch} onChange={handleOnChange}>\r\n          <Popover content={filterContent} trigger=\"click\">\r\n            <Button className=\"rounded ml-1 px-4 text-center\" type=\"primary\" size=\"small\">\r\n              <FontAwesomeIcon className=\"text-white text-xs\" icon={faFilter} />\r\n            </Button>\r\n          </Popover>\r\n        </SearchHeader>\r\n      </LogOutTopbar>\r\n      <Content className=\"p-6\">\r\n        <TitleDivider\r\n          title=\"Choose Topic\"\r\n          styles={{\r\n            leftContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n            rightContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n          }}\r\n        />\r\n        <Select mode=\"multiple\"\r\n          allowClear\r\n          className=\"w-full custom-select ml-1\"\r\n          value={selectedTopicValue}\r\n          // defaultValue={preCheckedTopics}\r\n          onChange={handleMultipleDropdown}\r\n          showSearch>\r\n          {preloadOptions(getDataField)}\r\n        </Select>\r\n        {\r\n          selectedTopicValue.length ? <Button\r\n            className=\"rounded ml-1 px-4 text-center change_topic_btn\"\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            onClick={submitSelectedTopics}\r\n          >\r\n            Submit\r\n            </Button> : ''\r\n        }\r\n        {\r\n          isPrefilledTopic ? <Button\r\n            className=\"rounded ml-1 px-4 text-center change_topic_btn\"\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            onClick={removeSelectedTopics}\r\n          >\r\n            Remove\r\n          </Button> : ''\r\n        }\r\n        <TitleDivider\r\n          title=\"My Promotions\"\r\n          styles={{\r\n            leftContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n            rightContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n          }}\r\n        />\r\n        <div className=\"shadow-md rounded-md w-full bg-white h-full pt-4 px-5 flex flex-wrap mb-1\">\r\n          {(showData.length &&\r\n            showData\r\n              .filter(function ({\r\n                main_promoted_by_user_ids,\r\n                local_promoted_by_user_ids,\r\n              }) {\r\n                return (\r\n                  main_promoted_by_user_ids && main_promoted_by_user_ids.length ? main_promoted_by_user_ids.includes(adminId) : false ||\r\n                    local_promoted_by_user_ids && local_promoted_by_user_ids.length ? local_promoted_by_user_ids.includes(adminId) : false\r\n                );\r\n              })\r\n              .map((d, index) => {\r\n                return <PromoteCard key={index} data={d} session={session} activePageId={activePageId} />;\r\n              })) || <Empty className=\"m-auto\" />}\r\n        </div>\r\n        <TitleDivider\r\n          title=\"Other Promotions\t&amp; Search Results\"\r\n          styles={{\r\n            leftContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n            rightContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n          }}\r\n        />\r\n        <main className=\"shadow-md rounded-md w-full bg-white h-full pt-4 px-5 flex flex-wrap\">\r\n          {(showData.length &&\r\n            showData.map((d, index) => {\r\n              return <PromoteCard key={index} data={d} session={session} activePageId={activePageId} />;\r\n            })) || <Empty className=\"m-auto\" />}\r\n        </main>\r\n        <TitleDivider\r\n          title=\"Landing Page Image\"\r\n          styles={{\r\n            leftContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n            rightContainer: {\r\n              backgroundColor: '#4a5568',\r\n            },\r\n          }}\r\n        />\r\n        <Layout className=\"h-auto mb-6 opportunity_choose\">\r\n          <Col className=\"landing_page_image\">\r\n            <p>Landing Page Image</p>\r\n            <div className='file-input'>\r\n              <input multiple type='file' name=\"file\" onChange={(e) => onChangeUpload(e, \"files\")} accept=\"image/*,video/*\" />\r\n              <span class='button'>Choose</span>\r\n              <span class='label' data-js-label style={{ display: \"none\" }}></span>\r\n            </div>\r\n            <input className=\"landing_browse\" placeholder={isHide ? inputFile.name : \"Please Enter URL\"} onChange={(e) => handleInput(e)} value={inputFile?.name}></input>\r\n            <div className=\"image_block_opportunity\">\r\n              {fileData && fileData.length > 0 ? fileData.map((item, i) => {\r\n                return (\r\n                  <img src={item.original} alt={\"\"} />\r\n                )\r\n              }) : null}\r\n            </div>\r\n            <div className=\"submit_btn\">\r\n              <button onClick={() => handleSubmit()}>Submit</button>\r\n            </div>\r\n          </Col>\r\n        </Layout>\r\n        <Table\r\n          ref={bannerList}\r\n          // loading={loading}\r\n          pagination={{ pageSize: 8 }}\r\n          dataSource={bannerList}\r\n          bordered\r\n          className=\"ant-table-wrapper--responsive\"\r\n          rowClassName={() => 'antd-row'}\r\n          rowKey=\"id\"\r\n        >\r\n          <Column\r\n            className=\"antd-col\"\r\n            title=\"Listing\"\r\n            dataIndex=\"image_url\"\r\n            key=\"image_url\"\r\n            render={(text, record) => ({\r\n              children: text,\r\n              props: {\r\n                'image_url': 'image_url',\r\n              },\r\n            })}\r\n          />\r\n          <Column\r\n            className=\"antd-col\"\r\n            // title=\"pdf_link\"\r\n            key=\"image_url\"\r\n            render={(text, record, index) => ({\r\n              children: (\r\n                <Button\r\n                  onClick={() => handleLink(text)}\r\n                  title=\"PDF Listing\"\r\n                  dataIndex=\"original\"\r\n                  key=\"image_url\"\r\n                  render={(text, record) => ({\r\n                    children: text,\r\n                    props: {\r\n                      'image_url': 'image_url',\r\n                    },\r\n                  })}\r\n                >click here</Button>\r\n              ),\r\n              props: {\r\n                'image_url': 'image_url',\r\n              },\r\n            })}\r\n          />\r\n        </Table>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}