{"ast":null,"code":"import _slicedToArray from \"/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _property from \"lodash/property\";\nimport _groupBy from \"lodash/groupBy\";\nimport _compact from \"lodash/compact\";\nvar _jsxFileName = \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/student/TopicCarouselContainer.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Card, Button } from 'antd';\nimport useGlobalStore from 'store/GlobalStore';\nimport { Carousel } from 'react-responsive-carousel';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowRight, faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport { InfoCard } from 'components/student';\nimport { TitleDivider } from 'components/shared';\nimport 'assets/scss/responsive-carousel-override.scss';\nimport * as _ from 'underscore';\n\nconst _default = function _default() {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        currentTopic = _useState2[0],\n        setCurrentTopic = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        onCurrentChange = _useState4[0],\n        setOnCurrentChange = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        outlookdata = _useState6[0],\n        setOutlookData = _useState6[1];\n\n  const _useGlobalStore = useGlobalStore(),\n        datafield = _useGlobalStore.datafield,\n        offerStore = _useGlobalStore.offer,\n        PathwayStore = _useGlobalStore.pathway;\n\n  console.log(\"daaaaaaaaaa\", datafield, PathwayStore && PathwayStore.entities); // let pathwayData = []\n  // pathwayData && pathwayData.push(PathwayStore.entities)\n  // pathwayData.sort( function ( a, b ) { return a.provider_id - b.provider_id; } );\n  // console.log(\"pathwayData\",pathwayData)\n\n  const topics = _compact(Object.values(datafield.entities).filter(d => d.type === 'topic'));\n\n  topics.push({\n    name: 'Others'\n  });\n\n  const groupedDataFields = _groupBy(datafield.entities, _property('type'));\n\n  const groupedDataFields1 = _groupBy(datafield.entities, _property('type'));\n\n  const handleChange = e => {};\n\n  const handleCurrentItem = (current, total) => {\n    const index = current - 1;\n    setTimeout(() => {\n      if (onCurrentChange !== current) {\n        setOnCurrentChange(current);\n      }\n\n      if (onCurrentChange !== current) {\n        setCurrentTopic(topics[index]);\n      }\n    }, 50);\n    return null;\n  };\n\n  const renderArrowBtns = (onClickHandler, hasPrevOrNext, label, icon, style = {\n    right: 15\n  }) => {\n    if (!icon) {\n      return null;\n    }\n\n    return hasPrevOrNext && /*#__PURE__*/React.createElement(Button, {\n      type: \"link\",\n      onClick: onClickHandler,\n      className: \"custom-control-arrow flex justify-center\",\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }));\n  };\n\n  const hasNoTopics = offer => {\n    const _offer$DataFields = offer.DataFields,\n          DataFields = _offer$DataFields === void 0 ? [] : _offer$DataFields;\n\n    for (let k = 0; k < DataFields.length; k++) {\n      if (DataFields[k].type === 'topic') {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const hasNoTopics1 = pathway => {\n    const _pathway$DataFields = pathway.DataFields,\n          DataFields = _pathway$DataFields === void 0 ? [] : _pathway$DataFields;\n\n    for (let k = 0; k < DataFields.length; k++) {\n      if (DataFields[k].type === 'topic') {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const renderOffers = () => {\n    let currentOffers = [];\n    let offerId = null;\n\n    let _offers = _compact(currentTopic.Offers);\n\n    for (let i = 0; i < _offers.length; i++) {\n      offerId = _offers[i].id;\n      currentOffers.push(offerStore.entities[offerId]);\n    }\n\n    if (currentTopic.name === 'Others') {\n      currentOffers = Object.values(offerStore.entities).filter(hasNoTopics);\n    }\n\n    return currentOffers.map((offer, index) => {\n      let p = null;\n\n      if (offer && offer.provider_id && offer.Provider) {\n        p = offer.Provider;\n      }\n\n      console.log(\"offer\", offer);\n      return /*#__PURE__*/React.createElement(Link, {\n        to: `/home/offer/${offer.id}`,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(InfoCard, {\n        key: index,\n        className: \"mx-auto mb-4 w-full\",\n        data: offer,\n        provider: p,\n        groupedDataFields: groupedDataFields,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }));\n    });\n  };\n\n  const renderOffers2 = () => {\n    let currentOffers = [];\n    let offerId = null;\n\n    let _offers = _compact(currentTopic.Offers);\n\n    console.log(\"qqqqqqqq==============\", _offers);\n\n    for (let i = 0; i < _offers.length; i++) {\n      offerId = _offers[i].id;\n      currentOffers.push(PathwayStore.entities[offerId]);\n    }\n\n    console.log(\"==============\", currentOffers);\n\n    if (currentTopic.name === 'Others') {\n      currentOffers = Object.values(offerStore.entities).filter(hasNoTopics1);\n    }\n\n    return currentOffers.map((offer, index) => {\n      let p = null;\n\n      if (offer && offer.provider_id && offer.Provider) {\n        p = offer.Provider;\n      }\n\n      console.log(\"offer\", offer);\n      return /*#__PURE__*/React.createElement(Link, {\n        to: `/home/offer/${offer.id}`,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(InfoCard, {\n        key: index,\n        className: \"mx-auto mb-4 w-full\",\n        data: offer,\n        provider: p,\n        groupedDataFields: groupedDataFields,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-auto w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TitleDivider, {\n    title: 'OFFERS BY TOPICS',\n    align: \"center\",\n    classNames: {\n      middleSpan: 'text-base'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Carousel, {\n    className: \"custom-carousel mb-2 cursor-grab\",\n    centerMode: true,\n    infiniteLoop: true,\n    centerSlidePercentage: 90,\n    showArrows: true,\n    showIndicators: false,\n    swipeable: true,\n    emulateTouch: true,\n    onChange: handleChange,\n    showStatus: true,\n    statusFormatter: handleCurrentItem,\n    showThumbs: false,\n    renderArrowNext: (...rest) => {\n      return renderArrowBtns(...rest, faArrowRight);\n    },\n    renderArrowPrev: (...rest) => {\n      return renderArrowBtns(...rest, faArrowLeft, {\n        left: 15\n      });\n    },\n    swipeScrollTolerance: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, topics.map((topic, index) => {\n    // console.log(\"topics\", topics)\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"mx-auto text-white text-lg w-auto flex justify-center items-center\",\n      style: {\n        backgroundColor: 'rgb(7, 25, 80)',\n        height: 50\n      },\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, topic.name);\n  })), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, currentTopic && renderOffers())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-auto w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TitleDivider, {\n    title: 'Top outlooks',\n    align: \"left\",\n    classNames: {\n      middleSpan: 'text-base'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Carousel, {\n    className: \"custom-carousel mb-2 cursor-grab\",\n    centerMode: true,\n    infiniteLoop: true,\n    centerSlidePercentage: 90,\n    showArrows: true,\n    showIndicators: false,\n    swipeable: true,\n    emulateTouch: true,\n    onChange: handleChange,\n    showStatus: true,\n    statusFormatter: handleCurrentItem,\n    showThumbs: false,\n    renderArrowNext: (...rest) => {\n      return renderArrowBtns(...rest, faArrowRight);\n    },\n    renderArrowPrev: (...rest) => {\n      return renderArrowBtns(...rest, faArrowLeft, {\n        left: 15\n      });\n    },\n    swipeScrollTolerance: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, topics.map((topic, index) => {\n    console.log(\"topics\", topics);\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"mx-auto text-white text-lg w-auto flex justify-center items-center\",\n      style: {\n        backgroundColor: 'rgb(7, 25, 80)',\n        height: 50\n      },\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, topic.earnings);\n  })), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }\n  }, currentTopic && renderOffers2())));\n};\n\n__signature__(_default, \"useState{[currentTopic, setCurrentTopic](null)}\\nuseState{[onCurrentChange, setOnCurrentChange](null)}\\nuseState{[outlookdata,setOutlookData](null)}\\nuseGlobalStore{{ datafield, offer: offerStore, pathway: PathwayStore }}\", () => [useGlobalStore]);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/student/TopicCarouselContainer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/student/TopicCarouselContainer.js"],"names":["React","useState","Link","Card","Button","useGlobalStore","Carousel","FontAwesomeIcon","faArrowRight","faArrowLeft","InfoCard","TitleDivider","_","currentTopic","setCurrentTopic","onCurrentChange","setOnCurrentChange","outlookdata","setOutlookData","datafield","offerStore","offer","PathwayStore","pathway","console","log","entities","topics","Object","values","filter","d","type","push","name","groupedDataFields","groupedDataFields1","handleChange","e","handleCurrentItem","current","total","index","setTimeout","renderArrowBtns","onClickHandler","hasPrevOrNext","label","icon","style","right","hasNoTopics","DataFields","k","length","hasNoTopics1","renderOffers","currentOffers","offerId","_offers","Offers","i","id","map","p","provider_id","Provider","renderOffers2","display","middleSpan","rest","left","topic","backgroundColor","height","earnings"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Button } from 'antd';\r\nimport { compact, groupBy, property } from 'lodash';\r\nimport useGlobalStore from 'store/GlobalStore';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowRight, faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport { InfoCard } from 'components/student';\r\nimport { TitleDivider } from 'components/shared';\r\nimport 'assets/scss/responsive-carousel-override.scss';\r\nimport * as _ from 'underscore';\r\n\r\nexport default function () {\r\n  const [currentTopic, setCurrentTopic] = useState(null);\r\n  const [onCurrentChange, setOnCurrentChange] = useState(null);\r\n  const [outlookdata,setOutlookData]=useState(null)\r\n  const { datafield, offer: offerStore, pathway: PathwayStore } = useGlobalStore();\r\n  console.log(\"daaaaaaaaaa\",datafield, PathwayStore && PathwayStore.entities)\r\n  \r\n  // let pathwayData = []\r\n  // pathwayData && pathwayData.push(PathwayStore.entities)\r\n  // pathwayData.sort( function ( a, b ) { return a.provider_id - b.provider_id; } );\r\n  // console.log(\"pathwayData\",pathwayData)\r\n\r\n  const topics = compact(\r\n    Object.values(datafield.entities).filter((d) => d.type === 'topic')\r\n  );\r\n \r\n  topics.push({ name: 'Others' });\r\n\r\n  const groupedDataFields = groupBy(datafield.entities, property('type'));\r\n  const groupedDataFields1 = groupBy(datafield.entities, property('type'));\r\n\r\n  const handleChange = (e) => { };\r\n\r\n  const handleCurrentItem = (current, total) => {\r\n    const index = current - 1;\r\n    setTimeout(() => {\r\n      if (onCurrentChange !== current) {\r\n        setOnCurrentChange(current);\r\n      }\r\n      if (onCurrentChange !== current) {\r\n        setCurrentTopic(topics[index]);\r\n      }\r\n    }, 50);\r\n    return null;\r\n  };\r\n\r\n  const renderArrowBtns = (\r\n    onClickHandler,\r\n    hasPrevOrNext,\r\n    label,\r\n    icon,\r\n    style = { right: 15 }\r\n  ) => {\r\n    if (!icon) {\r\n      return null;\r\n    }\r\n    return (\r\n      hasPrevOrNext && (\r\n        <Button\r\n          type=\"link\"\r\n          onClick={onClickHandler}\r\n          className=\"custom-control-arrow flex justify-center\"\r\n          style={style}\r\n        >\r\n          <FontAwesomeIcon icon={icon} />\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const hasNoTopics = (offer) => {\r\n    const { DataFields = [] } = offer;\r\n    for (let k = 0; k < DataFields.length; k++) {\r\n      if (DataFields[k].type === 'topic') {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const hasNoTopics1 = (pathway) => {\r\n    const { DataFields = [] } = pathway;\r\n    for (let k = 0; k < DataFields.length; k++) {\r\n      if (DataFields[k].type === 'topic') {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const renderOffers = () => {\r\n    let currentOffers = [];\r\n    let offerId = null;\r\n    let _offers = compact(currentTopic.Offers);\r\n\r\n    for (let i = 0; i < _offers.length; i++) {\r\n      offerId = _offers[i].id;\r\n      currentOffers.push(offerStore.entities[offerId]);\r\n    }\r\n\r\n    if (currentTopic.name === 'Others') {\r\n      currentOffers = Object.values(offerStore.entities).filter(hasNoTopics);\r\n    }\r\n\r\n    return currentOffers.map((offer, index) => {\r\n      let p = null;\r\n      if (offer && offer.provider_id && offer.Provider) {\r\n        p = offer.Provider;\r\n      }\r\n      console.log(\"offer\",offer)\r\n\r\n      return (\r\n        <Link to={`/home/offer/${offer.id}`} key={index}>\r\n          <InfoCard\r\n            key={index}\r\n            className=\"mx-auto mb-4 w-full\"\r\n            data={offer}\r\n            provider={p}\r\n            groupedDataFields={groupedDataFields}\r\n          />\r\n        </Link>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderOffers2 = () => {\r\n    let currentOffers = [];\r\n    let offerId = null;\r\n    let _offers = compact(currentTopic.Offers);\r\n    console.log(\"qqqqqqqq==============\",_offers)\r\n\r\n    for (let i = 0; i < _offers.length; i++) {\r\n      offerId = _offers[i].id;\r\n      currentOffers.push(PathwayStore.entities[offerId]);\r\n    }\r\n    console.log(\"==============\",currentOffers)\r\n    if (currentTopic.name === 'Others') {\r\n      currentOffers = Object.values(offerStore.entities).filter(hasNoTopics1);\r\n    }\r\n\r\n    return currentOffers.map((offer, index) => {\r\n      let p = null;\r\n      if (offer && offer.provider_id && offer.Provider) {\r\n        p = offer.Provider;\r\n      }\r\n      console.log(\"offer\",offer)\r\n\r\n      return (\r\n        <Link to={`/home/offer/${offer.id}`} key={index}>\r\n          <InfoCard\r\n            key={index}\r\n            className=\"mx-auto mb-4 w-full\"\r\n            data={offer}\r\n            provider={p}\r\n            groupedDataFields={groupedDataFields}\r\n          />\r\n        </Link>\r\n      );\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <div className=\"h-auto w-full\">\r\n        <TitleDivider\r\n          title={'OFFERS BY TOPICS'}\r\n          align=\"center\"\r\n          classNames={{ middleSpan: 'text-base' }}\r\n        />\r\n        <Carousel\r\n          className=\"custom-carousel mb-2 cursor-grab\"\r\n          centerMode\r\n          infiniteLoop\r\n          centerSlidePercentage={90}\r\n          showArrows={true}\r\n          showIndicators={false}\r\n          swipeable={true}\r\n          emulateTouch={true}\r\n          onChange={handleChange}\r\n          showStatus={true}\r\n          statusFormatter={handleCurrentItem}\r\n          showThumbs={false}\r\n          renderArrowNext={(...rest) => {\r\n            return renderArrowBtns(...rest, faArrowRight);\r\n          }}\r\n          renderArrowPrev={(...rest) => {\r\n            return renderArrowBtns(...rest, faArrowLeft, { left: 15 });\r\n          }}\r\n          swipeScrollTolerance={1}\r\n        >\r\n          {topics.map((topic, index) => {\r\n            // console.log(\"topics\", topics)\r\n            return (\r\n              <Card\r\n                className=\"mx-auto text-white text-lg w-auto flex justify-center items-center\"\r\n                style={{\r\n                  backgroundColor: 'rgb(7, 25, 80)',\r\n                  height: 50,\r\n                }}\r\n                key={index}\r\n              >\r\n                {topic.name}\r\n              </Card>\r\n            );\r\n          })}\r\n        </Carousel>\r\n        <main className=\"p-2\">{currentTopic && renderOffers()}</main>\r\n      </div>\r\n      <div className=\"h-auto w-full\">\r\n        <TitleDivider\r\n          title={'Top outlooks'}\r\n          align=\"left\"\r\n          classNames={{ middleSpan: 'text-base' }}\r\n        />\r\n        <Carousel\r\n          className=\"custom-carousel mb-2 cursor-grab\"\r\n          centerMode\r\n          infiniteLoop\r\n          centerSlidePercentage={90}\r\n          showArrows={true}\r\n          showIndicators={false}\r\n          swipeable={true}\r\n          emulateTouch={true}\r\n          onChange={handleChange}\r\n          showStatus={true}\r\n          statusFormatter={handleCurrentItem}\r\n          showThumbs={false}\r\n          renderArrowNext={(...rest) => {\r\n            return renderArrowBtns(...rest, faArrowRight);\r\n          }}\r\n          renderArrowPrev={(...rest) => {\r\n            return renderArrowBtns(...rest, faArrowLeft, { left: 15 });\r\n          }}\r\n          swipeScrollTolerance={1}\r\n        >\r\n          {topics.map((topic, index) => {\r\n            console.log(\"topics\", topics)\r\n            return (\r\n              <Card\r\n                className=\"mx-auto text-white text-lg w-auto flex justify-center items-center\"\r\n                style={{\r\n                  backgroundColor: 'rgb(7, 25, 80)',\r\n                  height: 50,\r\n                }}\r\n                key={index}\r\n              >\r\n                {topic.earnings}\r\n              </Card>\r\n            );\r\n          })}\r\n        </Carousel>\r\n        <main className=\"p-2\">{currentTopic && renderOffers2()}</main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}