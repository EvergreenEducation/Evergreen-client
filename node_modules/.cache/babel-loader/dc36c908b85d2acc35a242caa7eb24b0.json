{"ast":null,"code":"import _objectSpread from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _keyBy from \"lodash/keyBy\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nconst _default = (currentState, setState) => {\n  const addOne = payload => {\n    addMany([payload]);\n  };\n\n  const addMany = payload => {\n    setState(currentState => {\n      let idKey = currentState.idKey;\n\n      let newItems = _keyBy(payload, idKey);\n\n      return _objectSpread(_objectSpread({}, currentState), {}, {\n        entities: _objectSpread(_objectSpread({}, currentState.entities), newItems),\n        items: Object.keys(newItems)\n      });\n    });\n  };\n\n  const removeOne = payload => {\n    console.log(\"payyyyyyyy\", payload);\n    setState(currentState => {\n      let idKey = currentState.idKey;\n\n      let newEntities = _objectSpread({}, currentState.entities);\n\n      delete newEntities[payload[idKey]];\n      return _objectSpread(_objectSpread({}, currentState), {}, {\n        entities: newEntities,\n        items: Object.keys(newEntities)\n      });\n    });\n  };\n\n  const removeOneByIdKey = idKey => {\n    setState(currentState => {\n      let newEntities = _objectSpread({}, currentState.entities);\n\n      delete newEntities[idKey];\n      return _objectSpread(_objectSpread({}, currentState), {}, {\n        entities: newEntities,\n        items: Object.keys(newEntities)\n      });\n    });\n  };\n\n  const addAll = payload => {\n    setState(currentState => {\n      let idKey = currentState.idKey;\n\n      let newEntities = _keyBy(payload, idKey);\n\n      return _objectSpread(_objectSpread({}, currentState), {}, {\n        entities: newEntities,\n        items: Object.keys(newEntities)\n      });\n    });\n  };\n\n  const removeAll = payload => {\n    setState({\n      entities: {},\n      items: []\n    });\n  };\n\n  return {\n    removeAll,\n    removeOne,\n    addOne,\n    addMany,\n    addAll,\n    updateMany: addMany,\n    updateOne: addOne,\n    removeOneByIdKey\n  };\n};\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"/home/devnineteen/Music/evergreen-frontend/src/store/CrudHelper.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/devnineteen/Music/evergreen-frontend/src/store/CrudHelper.js"],"names":["currentState","setState","addOne","payload","addMany","idKey","newItems","entities","items","Object","keys","removeOne","console","log","newEntities","removeOneByIdKey","addAll","removeAll","updateMany","updateOne"],"mappings":";;;;;;;;;;;;iBAEe,CAACA,YAAD,EAAeC,QAAf,KAA4B;AACzC,QAAMC,MAAM,GAAIC,OAAD,IAAa;AAC1BC,IAAAA,OAAO,CAAC,CAACD,OAAD,CAAD,CAAP;AACD,GAFD;;AAIA,QAAMC,OAAO,GAAID,OAAD,IAAa;AAC3BF,IAAAA,QAAQ,CAAED,YAAD,IAAkB;AACzB,UAAIK,KAAK,GAAGL,YAAY,CAACK,KAAzB;;AACA,UAAIC,QAAQ,GAAG,OAAMH,OAAN,EAAeE,KAAf,CAAf;;AACA,6CACKL,YADL;AAEEO,QAAAA,QAAQ,kCACHP,YAAY,CAACO,QADV,GAEHD,QAFG,CAFV;AAMEE,QAAAA,KAAK,EAAEC,MAAM,CAACC,IAAP,CAAYJ,QAAZ;AANT;AAQD,KAXO,CAAR;AAYD,GAbD;;AAeA,QAAMK,SAAS,GAAIR,OAAD,IAAa;AAC7BS,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBV,OAAzB;AACAF,IAAAA,QAAQ,CAAED,YAAD,IAAkB;AACzB,UAAIK,KAAK,GAAGL,YAAY,CAACK,KAAzB;;AACA,UAAIS,WAAW,qBACVd,YAAY,CAACO,QADH,CAAf;;AAGA,aAAOO,WAAW,CAACX,OAAO,CAACE,KAAD,CAAR,CAAlB;AACA,6CACKL,YADL;AAEEO,QAAAA,QAAQ,EAAEO,WAFZ;AAGEN,QAAAA,KAAK,EAAEC,MAAM,CAACC,IAAP,CAAYI,WAAZ;AAHT;AAKD,KAXO,CAAR;AAYD,GAdD;;AAgBA,QAAMC,gBAAgB,GAAIV,KAAD,IAAW;AAClCJ,IAAAA,QAAQ,CAAED,YAAD,IAAkB;AACzB,UAAIc,WAAW,qBACVd,YAAY,CAACO,QADH,CAAf;;AAIA,aAAOO,WAAW,CAACT,KAAD,CAAlB;AAEA,6CACKL,YADL;AAEEO,QAAAA,QAAQ,EAAEO,WAFZ;AAGEN,QAAAA,KAAK,EAAEC,MAAM,CAACC,IAAP,CAAYI,WAAZ;AAHT;AAKD,KAZO,CAAR;AAaD,GAdD;;AAgBA,QAAME,MAAM,GAAIb,OAAD,IAAa;AAC1BF,IAAAA,QAAQ,CAAED,YAAD,IAAkB;AACzB,UAAIK,KAAK,GAAGL,YAAY,CAACK,KAAzB;;AACA,UAAIS,WAAW,GAAG,OAAMX,OAAN,EAAeE,KAAf,CAAlB;;AAEA,6CACKL,YADL;AAEEO,QAAAA,QAAQ,EAAEO,WAFZ;AAGEN,QAAAA,KAAK,EAAEC,MAAM,CAACC,IAAP,CAAYI,WAAZ;AAHT;AAKD,KATO,CAAR;AAUD,GAXD;;AAaA,QAAMG,SAAS,GAAId,OAAD,IAAa;AAC7BF,IAAAA,QAAQ,CAAC;AACPM,MAAAA,QAAQ,EAAE,EADH;AAEPC,MAAAA,KAAK,EAAE;AAFA,KAAD,CAAR;AAID,GALD;;AAOA,SAAO;AACLS,IAAAA,SADK;AAELN,IAAAA,SAFK;AAGLT,IAAAA,MAHK;AAILE,IAAAA,OAJK;AAKLY,IAAAA,MALK;AAMLE,IAAAA,UAAU,EAAEd,OANP;AAOLe,IAAAA,SAAS,EAAEjB,MAPN;AAQLa,IAAAA;AARK,GAAP;AAUD,C;;AAlFD","sourcesContent":["import { keyBy } from 'lodash';\n\nexport default (currentState, setState) => {\n  const addOne = (payload) => {\n    addMany([payload]);\n  };\n\n  const addMany = (payload) => {\n    setState((currentState) => {\n      let idKey = currentState.idKey;\n      let newItems = keyBy(payload, idKey);\n      return {\n        ...currentState,\n        entities: {\n          ...currentState.entities,\n          ...newItems,\n        },\n        items: Object.keys(newItems),\n      };\n    });\n  };\n\n  const removeOne = (payload) => {\n    console.log(\"payyyyyyyy\",payload)\n    setState((currentState) => {\n      let idKey = currentState.idKey;\n      let newEntities = {\n        ...currentState.entities,\n      };\n      delete newEntities[payload[idKey]];\n      return {\n        ...currentState,\n        entities: newEntities,\n        items: Object.keys(newEntities),\n      };\n    });\n  };\n\n  const removeOneByIdKey = (idKey) => {\n    setState((currentState) => {\n      let newEntities = {\n        ...currentState.entities,\n      };\n\n      delete newEntities[idKey];\n\n      return {\n        ...currentState,\n        entities: newEntities,\n        items: Object.keys(newEntities),\n      };\n    });\n  };\n\n  const addAll = (payload) => {\n    setState((currentState) => {\n      let idKey = currentState.idKey;\n      let newEntities = keyBy(payload, idKey);\n\n      return {\n        ...currentState,\n        entities: newEntities,\n        items: Object.keys(newEntities),\n      };\n    });\n  };\n\n  const removeAll = (payload) => {\n    setState({\n      entities: {},\n      items: [],\n    });\n  };\n\n  return {\n    removeAll,\n    removeOne,\n    addOne,\n    addMany,\n    addAll,\n    updateMany: addMany,\n    updateOne: addOne,\n    removeOneByIdKey,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}