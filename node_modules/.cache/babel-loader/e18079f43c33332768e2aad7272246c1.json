{"ast":null,"code":"var LOADABLE_MARKS = new Map();\nexport var createLoadableStream = function () {\n  return {\n    marks: {}\n  };\n};\n\nvar clearStream = function (stream) {\n  if (stream) {\n    stream.marks = {};\n  }\n};\n\nvar checkStream = function (stream) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!stream) {\n      return;\n    }\n\n    if (typeof stream !== 'object' || !stream.marks) {\n      throw new Error('react-imported-component: version 6 requires `stream` to be an object. Refer to the migration guide');\n    }\n  }\n};\n\nexport var defaultStream = createLoadableStream();\nexport var useMark = function (stream, marks) {\n  if (stream === void 0) {\n    stream = defaultStream;\n  }\n\n  checkStream(stream);\n\n  if (marks && marks.length) {\n    marks.forEach(function (a) {\n      return stream.marks[a] = true;\n    });\n  }\n};\nexport var assingLoadableMark = function (mark, loadable) {\n  LOADABLE_MARKS.set(JSON.stringify(mark), {\n    mark: mark,\n    loadable: loadable\n  });\n};\nexport var getUsedMarks = function (stream) {\n  if (stream === void 0) {\n    stream = defaultStream;\n  }\n\n  return stream ? Object.keys(stream.marks) : [];\n};\n/**\n * SSR\n * @returns list or marks used\n */\n\nexport var drainHydrateMarks = function (stream) {\n  if (stream === void 0) {\n    stream = defaultStream;\n  }\n\n  checkStream(stream);\n  var marks = getUsedMarks(stream);\n  clearStream(stream);\n  return marks;\n};\nexport var markerOverlap = function (a1, a2) {\n  return a1.filter(function (mark) {\n    return a2.indexOf(mark) >= 0;\n  }).length === a1.length;\n};\n/**\n * Loads a given marks/chunks\n * @param marks\n * @returns a resolution promise\n */\n\nexport var rehydrateMarks = function (marks) {\n  var rehydratedMarks = marks || global.___REACT_DEFERRED_COMPONENT_MARKS || [];\n  var tasks = [];\n  var usedMarks = new Set();\n  LOADABLE_MARKS.forEach(function (_a) {\n    var mark = _a.mark,\n        loadable = _a.loadable;\n\n    if (markerOverlap(mark, rehydratedMarks)) {\n      mark.forEach(function (m) {\n        return usedMarks.add(m);\n      });\n      tasks.push(loadable.load());\n    }\n  });\n  rehydratedMarks.forEach(function (m) {\n    if (!usedMarks.has(m)) {\n      throw new Error(\"react-imported-component: unknown mark(\" + m + \") has been used. Client and Server should have the same babel configuration.\");\n    }\n  });\n  return Promise.all(tasks);\n};\n/**\n * waits for the given marks to load\n * @param marks\n */\n\nexport var waitForMarks = function (marks) {\n  var tasks = [];\n  LOADABLE_MARKS.forEach(function (_a) {\n    var mark = _a.mark,\n        loadable = _a.loadable;\n\n    if (markerOverlap(mark, marks)) {\n      tasks.push(loadable.resolution);\n    }\n  });\n  return Promise.all(tasks);\n};\n/**\n * @returns a <script> tag with all used marks\n */\n\nexport var printDrainHydrateMarks = function (stream) {\n  checkStream(stream);\n  return \"<script>window.___REACT_DEFERRED_COMPONENT_MARKS=\" + JSON.stringify(drainHydrateMarks(stream)) + \";</script>\";\n};","map":{"version":3,"sources":["/home/devnineteen/Music/evergreen-frontend/node_modules/react-imported-component/dist/es2015/loadable/marks.js"],"names":["LOADABLE_MARKS","Map","createLoadableStream","marks","clearStream","stream","checkStream","process","env","NODE_ENV","Error","defaultStream","useMark","length","forEach","a","assingLoadableMark","mark","loadable","set","JSON","stringify","getUsedMarks","Object","keys","drainHydrateMarks","markerOverlap","a1","a2","filter","indexOf","rehydrateMarks","rehydratedMarks","global","___REACT_DEFERRED_COMPONENT_MARKS","tasks","usedMarks","Set","_a","m","add","push","load","has","Promise","all","waitForMarks","resolution","printDrainHydrateMarks"],"mappings":"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","sourcesContent":["var LOADABLE_MARKS = new Map();\nexport var createLoadableStream = function () { return ({ marks: {} }); };\nvar clearStream = function (stream) {\n    if (stream) {\n        stream.marks = {};\n    }\n};\nvar checkStream = function (stream) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (!stream) {\n            return;\n        }\n        if (typeof stream !== 'object' || !stream.marks) {\n            throw new Error('react-imported-component: version 6 requires `stream` to be an object. Refer to the migration guide');\n        }\n    }\n};\nexport var defaultStream = createLoadableStream();\nexport var useMark = function (stream, marks) {\n    if (stream === void 0) { stream = defaultStream; }\n    checkStream(stream);\n    if (marks && marks.length) {\n        marks.forEach(function (a) { return (stream.marks[a] = true); });\n    }\n};\nexport var assingLoadableMark = function (mark, loadable) {\n    LOADABLE_MARKS.set(JSON.stringify(mark), { mark: mark, loadable: loadable });\n};\nexport var getUsedMarks = function (stream) {\n    if (stream === void 0) { stream = defaultStream; }\n    return (stream ? Object.keys(stream.marks) : []);\n};\n/**\n * SSR\n * @returns list or marks used\n */\nexport var drainHydrateMarks = function (stream) {\n    if (stream === void 0) { stream = defaultStream; }\n    checkStream(stream);\n    var marks = getUsedMarks(stream);\n    clearStream(stream);\n    return marks;\n};\nexport var markerOverlap = function (a1, a2) {\n    return a1.filter(function (mark) { return a2.indexOf(mark) >= 0; }).length === a1.length;\n};\n/**\n * Loads a given marks/chunks\n * @param marks\n * @returns a resolution promise\n */\nexport var rehydrateMarks = function (marks) {\n    var rehydratedMarks = marks || global.___REACT_DEFERRED_COMPONENT_MARKS || [];\n    var tasks = [];\n    var usedMarks = new Set();\n    LOADABLE_MARKS.forEach(function (_a) {\n        var mark = _a.mark, loadable = _a.loadable;\n        if (markerOverlap(mark, rehydratedMarks)) {\n            mark.forEach(function (m) { return usedMarks.add(m); });\n            tasks.push(loadable.load());\n        }\n    });\n    rehydratedMarks.forEach(function (m) {\n        if (!usedMarks.has(m)) {\n            throw new Error(\"react-imported-component: unknown mark(\" + m + \") has been used. Client and Server should have the same babel configuration.\");\n        }\n    });\n    return Promise.all(tasks);\n};\n/**\n * waits for the given marks to load\n * @param marks\n */\nexport var waitForMarks = function (marks) {\n    var tasks = [];\n    LOADABLE_MARKS.forEach(function (_a) {\n        var mark = _a.mark, loadable = _a.loadable;\n        if (markerOverlap(mark, marks)) {\n            tasks.push(loadable.resolution);\n        }\n    });\n    return Promise.all(tasks);\n};\n/**\n * @returns a <script> tag with all used marks\n */\nexport var printDrainHydrateMarks = function (stream) {\n    checkStream(stream);\n    return \"<script>window.___REACT_DEFERRED_COMPONENT_MARKS=\" + JSON.stringify(drainHydrateMarks(stream)) + \";</script>\";\n};\n"]},"metadata":{},"sourceType":"module"}