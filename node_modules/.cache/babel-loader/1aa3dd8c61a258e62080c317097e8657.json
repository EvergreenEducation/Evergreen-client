{"ast":null,"code":"import _objectSpread from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/devnineteen/Music/evergreen-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromoCarouselsContainer/PromoCarouselsContainer.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useEffect, useState } from 'react';\nimport useGlobalStore from 'store/GlobalStore';\nimport { Carousel } from 'react-responsive-carousel';\nimport { TitleDivider } from 'components/shared';\nimport PromoCard from 'components/promotion/PromoCard/PromoCard';\nimport 'assets/scss/responsive-carousel-override.scss';\nimport './promo-carousels-container.scss';\n\nconst axios = require('axios').default;\n\nconst _default = function _default() {\n  const _useState = useState(100),\n        _useState2 = _slicedToArray(_useState, 2),\n        localSliderPercentage = _useState2[0],\n        setLocalSliderPercentage = _useState2[1];\n\n  const _useGlobalStore = useGlobalStore(),\n        offerStore = _useGlobalStore.offer,\n        providerStore = _useGlobalStore.provider,\n        pathwayStore = _useGlobalStore.pathway;\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        bannerImage = _useState4[0],\n        setBannerImage = _useState4[1];\n\n  let Arr = []; //  console.log(\"------------\",pathwayStore)\n\n  const getBannerApi = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* () {\n      // let token = JSON.parse(localStorage.getItem(\"currentSession\"))\n      // let user_id = token.id\n      // let user_role = token.role\n      let Data = yield axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/get_images_list`);\n      return Data;\n    });\n\n    return function getBannerApi() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const offers = Object.values(offerStore.entities).map(o => {\n    return _objectSpread(_objectSpread({}, o), {}, {\n      entity_type: 'offer'\n    });\n  });\n  const providers = Object.values(providerStore.entities).map(p => {\n    return _objectSpread(_objectSpread({}, p), {}, {\n      entity_type: 'provider'\n    });\n  });\n  const pathways = Object.values(pathwayStore.entities).map(p => {\n    return _objectSpread(_objectSpread({}, p), {}, {\n      entity_type: 'pathway'\n    });\n  });\n  const data = [...offers, ...pathways, ...providers];\n  const localPromos = data.filter(d => {\n    return d.is_local_promo;\n  });\n  const mainPromos = data.filter(d => {\n    return d.is_main_promo;\n  });\n  useEffect(() => {\n    const handleSliderPercentOnResize = () => {\n      if (window.innerWidth >= 769) {\n        setLocalSliderPercentage(34);\n      } else {\n        setLocalSliderPercentage(100);\n      }\n    };\n\n    if (window.innerWidth >= 769) {\n      setLocalSliderPercentage(34);\n    } else {\n      setLocalSliderPercentage(100);\n    }\n\n    window.addEventListener('resize', handleSliderPercentOnResize);\n    return () => window.removeEventListener('resize', handleSliderPercentOnResize);\n  }, [localSliderPercentage]);\n  useEffect(() => {\n    getBannerApi().then(resp => {\n      if (resp.status == 200) {\n        var output = resp.data.data.map(s => ({\n          banner_image: s.landing_image,\n          id: s.id,\n          image_url: s.image_url\n        }));\n        setBannerImage(output);\n      }\n    }).catch(error => {\n      console.log(\"errror\", error);\n    });\n  }, []);\n  console.log(\"bannerImage\", bannerImage);\n  console.log('mainPromos', mainPromos); // let testing = mainPromos.concat(bannerImage)\n  // console.log('tetetteee',testing)\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-auto w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    className: \"custom-carousel promoCarousel mb-2 cursor-grab\",\n    centerMode: true,\n    infiniteLoop: true,\n    centerSlidePercentage: 100,\n    showArrows: true,\n    showIndicators: false,\n    swipeable: true,\n    emulateTouch: true,\n    showStatus: false,\n    showThumbs: false,\n    interval: 7000,\n    autoPlay: true,\n    swipeScrollTolerance: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, mainPromos.map((promo, index) => {\n    // console.log(\"pro\", promo)\n    return /*#__PURE__*/React.createElement(PromoCard, {\n      key: index,\n      data: promo,\n      banner: true,\n      bannerImage: bannerImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 18\n      }\n    });\n  })), /*#__PURE__*/React.createElement(TitleDivider, {\n    title: 'LOCAL PROMOS',\n    align: \"center\",\n    classNames: {\n      middleSpan: 'text-base'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Carousel, {\n    className: \"custom-carousel promoCarousel mb-2 cursor-grab\",\n    centerMode: true,\n    infiniteLoop: true,\n    centerSlidePercentage: localSliderPercentage,\n    showArrows: true,\n    showIndicators: false,\n    swipeable: true,\n    emulateTouch: true,\n    showStatus: false,\n    showThumbs: false,\n    interval: 7000,\n    autoPlay: true,\n    swipeScrollTolerance: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, localPromos.map((promo, index) => {\n    return /*#__PURE__*/React.createElement(PromoCard, {\n      key: index,\n      data: promo,\n      size: \"small\",\n      className: \"mx-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    });\n  })));\n};\n\n__signature__(_default, \"useState{[localSliderPercentage, setLocalSliderPercentage](100)}\\nuseGlobalStore{{\\r\\n    offer: offerStore,\\r\\n    provider: providerStore,\\r\\n    pathway: pathwayStore,\\r\\n  }}\\nuseState{[bannerImage,setBannerImage]({})}\\nuseEffect{}\\nuseEffect{}\", () => [useGlobalStore]);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(axios, \"axios\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromoCarouselsContainer/PromoCarouselsContainer.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromoCarouselsContainer/PromoCarouselsContainer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/devnineteen/Music/evergreen-frontend/src/components/promotion/PromoCarouselsContainer/PromoCarouselsContainer.js"],"names":["React","useEffect","useState","useGlobalStore","Carousel","TitleDivider","PromoCard","axios","require","default","localSliderPercentage","setLocalSliderPercentage","offerStore","offer","providerStore","provider","pathwayStore","pathway","bannerImage","setBannerImage","Arr","getBannerApi","Data","post","process","env","REACT_APP_API_URL","offers","Object","values","entities","map","o","entity_type","providers","p","pathways","data","localPromos","filter","d","is_local_promo","mainPromos","is_main_promo","handleSliderPercentOnResize","window","innerWidth","addEventListener","removeEventListener","then","resp","status","output","s","banner_image","landing_image","id","image_url","catch","error","console","log","promo","index","middleSpan"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport useGlobalStore from 'store/GlobalStore';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport { TitleDivider } from 'components/shared';\r\nimport PromoCard from 'components/promotion/PromoCard/PromoCard';\r\nimport 'assets/scss/responsive-carousel-override.scss';\r\nimport './promo-carousels-container.scss';\r\nconst axios = require('axios').default;\r\n\r\nexport default function () {\r\n  const [localSliderPercentage, setLocalSliderPercentage] = useState(100);\r\n  const {\r\n    offer: offerStore,\r\n    provider: providerStore,\r\n    pathway: pathwayStore,\r\n  } = useGlobalStore();\r\n  const[bannerImage,setBannerImage]= useState({})\r\n  let Arr =[]\r\n  //  console.log(\"------------\",pathwayStore)\r\n\r\n  const getBannerApi = async () => {\r\n    // let token = JSON.parse(localStorage.getItem(\"currentSession\"))\r\n    // let user_id = token.id\r\n    // let user_role = token.role\r\n    let Data = await axios.post(`${process.env.REACT_APP_API_URL}/api/v1/files/get_images_list`)\r\n    return Data\r\n  }\r\n  const offers = Object.values(offerStore.entities).map((o) => {\r\n    return {\r\n      ...o,\r\n      entity_type: 'offer',\r\n    };\r\n  });\r\n\r\n  const providers = Object.values(providerStore.entities).map((p) => {\r\n    return {\r\n      ...p,\r\n      entity_type: 'provider',\r\n    };\r\n  });\r\n\r\n  const pathways = Object.values(pathwayStore.entities).map((p) => {\r\n    return {\r\n      ...p,\r\n      entity_type: 'pathway',\r\n    };\r\n  });\r\n\r\n  const data = [...offers, ...pathways, ...providers];\r\n\r\n  const localPromos = data.filter((d) => {\r\n    return d.is_local_promo;\r\n  });\r\n\r\n  const mainPromos = data.filter((d) => {\r\n    return d.is_main_promo;\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleSliderPercentOnResize = () => {\r\n      if (window.innerWidth >= 769) {\r\n        setLocalSliderPercentage(34);\r\n      } else {\r\n        setLocalSliderPercentage(100);\r\n      }\r\n    };\r\n\r\n    if (window.innerWidth >= 769) {\r\n      setLocalSliderPercentage(34);\r\n    } else {\r\n      setLocalSliderPercentage(100);\r\n    }\r\n\r\n    window.addEventListener('resize', handleSliderPercentOnResize);\r\n\r\n    return () =>\r\n      window.removeEventListener('resize', handleSliderPercentOnResize);\r\n  }, [localSliderPercentage]);\r\n\r\n  useEffect(() => {\r\n    getBannerApi().then(resp => {\r\n      if(resp.status == 200){\r\n        var output = resp.data.data.map( s => ({banner_image:s.landing_image,id:s.id,image_url:s.image_url}) );\r\n        setBannerImage(output)\r\n      }\r\n    }).catch(error => {\r\n      console.log(\"errror\", error)\r\n    })\r\n  }, [])\r\n\r\n  console.log(\"bannerImage\",bannerImage)\r\n  console.log('mainPromos',mainPromos)\r\n\r\n  // let testing = mainPromos.concat(bannerImage)\r\n  // console.log('tetetteee',testing)\r\n\r\n  return (\r\n    <div className=\"h-auto w-full\">\r\n      <Carousel\r\n        className=\"custom-carousel promoCarousel mb-2 cursor-grab\"\r\n        centerMode\r\n        infiniteLoop\r\n        centerSlidePercentage={100}\r\n        showArrows={true}\r\n        showIndicators={false}\r\n        swipeable={true}\r\n        emulateTouch={true}\r\n        showStatus={false}\r\n        showThumbs={false}\r\n        interval={7000}\r\n        autoPlay={true}\r\n        swipeScrollTolerance={1}\r\n      >\r\n        {mainPromos.map((promo, index) => {\r\n          // console.log(\"pro\", promo)\r\n          return <PromoCard key={index} data={promo} banner={true} bannerImage={bannerImage}/>;\r\n        })}\r\n      </Carousel>\r\n      <TitleDivider\r\n        title={'LOCAL PROMOS'}\r\n        align=\"center\"\r\n        classNames={{ middleSpan: 'text-base' }}\r\n      />\r\n      <Carousel\r\n        className=\"custom-carousel promoCarousel mb-2 cursor-grab\"\r\n        centerMode\r\n        infiniteLoop\r\n        centerSlidePercentage={localSliderPercentage}\r\n        showArrows={true}\r\n        showIndicators={false}\r\n        swipeable={true}\r\n        emulateTouch={true}\r\n        showStatus={false}\r\n        showThumbs={false}\r\n        interval={7000}\r\n        autoPlay={true}\r\n        swipeScrollTolerance={1}\r\n      >\r\n        {localPromos.map((promo, index) => {\r\n          return (\r\n            <PromoCard key={index} data={promo} size=\"small\" className=\"mx-1\" />\r\n          );\r\n        })}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}