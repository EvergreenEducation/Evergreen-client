{"ast":null,"code":"import _objectSpread from \"/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/datafield/AccedrationContainer.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useGlobalStore from 'store/GlobalStore';\nimport axiosInstance from 'services/AxiosInstance';\nimport DataFieldTable from 'components/shared/DataFieldTable';\nimport useAxios, { configure } from 'axios-hooks';\nimport { Card } from 'antd';\n\nconst axios = require('axios').default;\n\nconfigure({\n  axios: axiosInstance\n});\nexport default function AccedrationContainer(props) {\n  const history = useHistory();\n\n  const _useState = useState({\n    name: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        accedrationValues = _useState2[0],\n        setAccedrationValues = _useState2[1];\n\n  const postData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (accedrationValues) {\n      let token = JSON.parse(localStorage.getItem(\"currentSession\"));\n      let name = accedrationValues.name;\n      let user_id = token.id;\n      let user_role = token.role;\n      let pdfData = yield axios.post(`http://localhost:8888/api/v1/files/add_accedration`, {\n        name,\n        user_id,\n        user_role\n      });\n      return pdfData;\n    });\n\n    return function postData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const handleName = input => {\n    let inputValues = _objectSpread(_objectSpread({}, accedrationValues), {}, {\n      name: input.target.value\n    });\n\n    console.log(\"----------\", inputValues);\n    setAccedrationValues(inputValues);\n  };\n\n  const handleButton = accedrationValues => {\n    postData(accedrationValues).then(resp => {\n      console.log(resp, \"response\");\n    }).catch(error => {\n      console.log(error, \"error\");\n    });\n  };\n\n  console.log(\"accedrationValues\", accedrationValues); // const tableData = Object.values(entities).filter(typeEqualsTopic);\n  // const [{ data, loading, error }] = useAxios('/datafields?type=topic');\n  // if (error) {\n  //   history.push('/error/500');\n  // }\n\n  useEffect(() => {// if (data) {\n    //   datafield.addMany(data);\n    // }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    title: \"Accreditation\",\n    className: \"shadow-md rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onClick: e => handleName(e, \"name\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleButton(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, \"click here\")));\n}\n\n__signature__(AccedrationContainer, \"useHistory{history}\\nuseState{[accedrationValues, setAccedrationValues]({\\n    name :\\\"\\\"\\n  })}\\nuseEffect{}\", () => [useHistory]);\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(axios, \"axios\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/datafield/AccedrationContainer.js\");\n  reactHotLoader.register(AccedrationContainer, \"AccedrationContainer\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/datafield/AccedrationContainer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/datafield/AccedrationContainer.js"],"names":["React","useEffect","useState","useHistory","useGlobalStore","axiosInstance","DataFieldTable","useAxios","configure","Card","axios","require","default","AccedrationContainer","props","history","name","accedrationValues","setAccedrationValues","postData","token","JSON","parse","localStorage","getItem","user_id","id","user_role","role","pdfData","post","handleName","input","inputValues","target","value","console","log","handleButton","then","resp","catch","error","e"],"mappings":"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","sourcesContent":["import React, { useEffect ,useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useGlobalStore from 'store/GlobalStore';\nimport axiosInstance from 'services/AxiosInstance';\nimport DataFieldTable from 'components/shared/DataFieldTable';\nimport useAxios, { configure } from 'axios-hooks';\nimport { Card } from 'antd';\nconst axios = require('axios').default;\n\nconfigure({\n  axios: axiosInstance,\n});\n\nexport default function AccedrationContainer(props) {\n  const history = useHistory();\n \n\n  const [accedrationValues, setAccedrationValues] = useState({\n    name :\"\"\n  })\n\n  const postData = async (accedrationValues) => {\n    let token = JSON.parse(localStorage.getItem(\"currentSession\"))\n    let name  = accedrationValues.name\n    let user_id = token.id\n    let user_role = token.role\n    let pdfData = await axios.post(`http://localhost:8888/api/v1/files/add_accedration`,{\n      name,\n      user_id,\n      user_role\n    })\n    return pdfData\n  }\n\n  const handleName = (input) => {\n    let inputValues = {...accedrationValues, name : input.target.value}\n    console.log(\"----------\",inputValues)\n    setAccedrationValues(inputValues)\n  }\n\n  const handleButton =(accedrationValues) => {\n    postData(accedrationValues).then(resp => {\n      console.log(resp,\"response\")\n    }).catch(error => {\n      console.log(error,\"error\")\n    })\n  }\n\n  console.log(\"accedrationValues\",accedrationValues)\n\n  \n\n  // const tableData = Object.values(entities).filter(typeEqualsTopic);\n\n  // const [{ data, loading, error }] = useAxios('/datafields?type=topic');\n\n  // if (error) {\n  //   history.push('/error/500');\n  // }\n\n  useEffect(() => {\n    // if (data) {\n    //   datafield.addMany(data);\n    // }\n  }, []);\n\n  return (\n    <>\n    <Card title=\"Accreditation\" className=\"shadow-md rounded-md\">\n    <input onClick={(e) => handleName(e, \"name\")}></input>\n    <button onClick={() => handleButton()}>click here</button>\n    </Card> \n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}