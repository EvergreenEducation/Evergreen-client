{"ast":null,"code":"import _objectSpread from \"/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar importedWrapper = require('react-imported-component/wrapper');\n\nimport { imported } from \"react-imported-component\";\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useEffect, useState } from 'react';\nimport axiosInstance from 'services/AxiosInstance';\nimport useAxios, { configure } from 'axios-hooks';\nimport { Card, Layout, Col } from 'antd';\nimport { ProvidersTable } from 'components/provider';\nimport useGlobalStore from 'store/GlobalStore';\nimport { SearchHeader, LogOutTopbar, FaPlusCircleButton } from 'components/shared';\nimport matchSorter from 'match-sorter';\nconst ProviderUpdateModal = imported(() => importedWrapper(\"imported_-1lcpqs5_component\", import('components/provider/ProviderUpdateModal')));\nconst FormModal = imported(() => importedWrapper(\"imported_1ac18j9_component\", import('components/shared/FormModal')));\nconst ProviderCreationContainer = imported(() => importedWrapper(\"imported_a8bb7a_component\", import('components/provider/ProviderCreationContainer')));\nconfigure({\n  axios: axiosInstance\n});\nconst Content = Layout.Content;\nexport default function ProviderContainer(props) {\n  const history = props.history,\n        role = props.role;\n  console.log(\"sdsds\", history);\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        searchString = _useState2[0],\n        setSearchString = _useState2[1];\n\n  const _useState3 = useState({\n    providerCreation: false,\n    providerUpdate: false\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        modalStates = _useState4[0],\n        setModalStates = _useState4[1];\n\n  const _useState5 = useState({}),\n        _useState6 = _slicedToArray(_useState5, 2),\n        selectedProvider = _useState6[0],\n        setSelectedProvider = _useState6[1];\n\n  const _useGlobalStore = useGlobalStore(),\n        datafield = _useGlobalStore.datafield,\n        provider = _useGlobalStore.provider;\n\n  const _useAxios = useAxios('/providers?scope=with_details'),\n        _useAxios2 = _slicedToArray(_useAxios, 1),\n        _useAxios2$ = _useAxios2[0],\n        _useAxios2$$data = _useAxios2$.data,\n        data = _useAxios2$$data === void 0 ? [] : _useAxios2$$data,\n        loading = _useAxios2$.loading,\n        providerError = _useAxios2$.error;\n\n  const _useAxios3 = useAxios('/datafields?type=provider&type=topic'),\n        _useAxios4 = _slicedToArray(_useAxios3, 1),\n        _useAxios4$ = _useAxios4[0],\n        datafieldsData = _useAxios4$.data,\n        loadingDataFields = _useAxios4$.loading,\n        datafieldError = _useAxios4$.error;\n\n  const openAndPopulateUpdateModal = provider => {\n    setSelectedProvider(provider);\n    setModalStates(_objectSpread(_objectSpread({}, modalStates), {}, {\n      providerUpdate: true\n    }));\n  };\n\n  if (providerError || datafieldError) {\n    history.push('/error/500');\n  }\n\n  useEffect(() => {\n    if (data) {\n      provider.addMany(data);\n    }\n\n    if (datafieldsData) {\n      datafield.addMany(datafieldsData);\n    }\n  }, [data, datafieldsData]);\n  const entities = Object.values(provider.entities);\n  const dataFieldEntities = Object.values(datafield.entities);\n\n  const handleDataAfterSearch = (data, keys = ['name', 'keywords']) => {\n    return matchSorter(data, searchString, {\n      keys\n    });\n  };\n\n  const handleDataSearch = searchVal => {\n    return setSearchString(searchVal);\n  };\n\n  const showData = handleDataAfterSearch(entities);\n  return /*#__PURE__*/React.createElement(Layout, {\n    className: \"bg-transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LogOutTopbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchHeader, {\n    title: \"PROVIDERS\",\n    onSearch: handleDataSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FaPlusCircleButton, {\n    onMouseEnter: () => {\n      FormModal.preload();\n      ProviderCreationContainer.preload();\n    },\n    onClick: () => setModalStates(_objectSpread(_objectSpread({}, modalStates), {}, {\n      providerCreation: true\n    })),\n    text: \"PROVIDER\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Content, {\n    className: \"p-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadow-md rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ProvidersTable, {\n    data: providerError ? [] : showData,\n    loading: loading && loadingDataFields,\n    datafields: datafieldError ? [] : dataFieldEntities,\n    handleUpdateModal: openAndPopulateUpdateModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ProviderUpdateModal, {\n    role: role,\n    datafields: datafieldError ? [] : dataFieldEntities,\n    provider: selectedProvider,\n    visible: modalStates.providerUpdate,\n    onCancel: () => setModalStates(_objectSpread(_objectSpread({}, modalStates), {}, {\n      providerUpdate: false\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormModal, {\n    role: role,\n    title: \"New Provider\",\n    visible: modalStates.providerCreation,\n    FormComponent: ProviderCreationContainer,\n    onCancel: () => setModalStates(_objectSpread(_objectSpread({}, modalStates), {}, {\n      providerCreation: false\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }))));\n}\n\n__signature__(ProviderContainer, \"useState{[searchString, setSearchString]('')}\\nuseState{[modalStates, setModalStates]({\\n    providerCreation: false,\\n    providerUpdate: false,\\n  })}\\nuseState{[selectedProvider, setSelectedProvider]({})}\\nuseGlobalStore{{ datafield, provider }}\\nuseAxios{[{ data = [], loading, error: providerError }]}\\nuseAxios{[\\n    { data: datafieldsData, loading: loadingDataFields, error: datafieldError },\\n  ]}\\nuseEffect{}\", () => [useGlobalStore, useAxios, useAxios]);\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(ProviderUpdateModal, \"ProviderUpdateModal\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js\");\n  reactHotLoader.register(FormModal, \"FormModal\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js\");\n  reactHotLoader.register(ProviderCreationContainer, \"ProviderCreationContainer\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js\");\n  reactHotLoader.register(Content, \"Content\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js\");\n  reactHotLoader.register(ProviderContainer, \"ProviderContainer\", \"/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/devnineteen/Desktop/Projects/Evergreen-client/src/components/provider/ProviderContainer.js"],"names":["React","useEffect","useState","axiosInstance","useAxios","configure","Card","Layout","Col","ProvidersTable","useGlobalStore","SearchHeader","LogOutTopbar","FaPlusCircleButton","matchSorter","ProviderUpdateModal","imported","FormModal","ProviderCreationContainer","axios","Content","ProviderContainer","props","history","role","console","log","searchString","setSearchString","providerCreation","providerUpdate","modalStates","setModalStates","selectedProvider","setSelectedProvider","datafield","provider","data","loading","providerError","error","datafieldsData","loadingDataFields","datafieldError","openAndPopulateUpdateModal","push","addMany","entities","Object","values","dataFieldEntities","handleDataAfterSearch","keys","handleDataSearch","searchVal","showData","preload"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axiosInstance from 'services/AxiosInstance';\nimport useAxios, { configure } from 'axios-hooks';\nimport { Card, Layout, Col } from 'antd';\nimport { imported } from 'react-imported-component/macro';\nimport { ProvidersTable } from 'components/provider';\nimport useGlobalStore from 'store/GlobalStore';\nimport {\n  SearchHeader,\n  LogOutTopbar,\n  FaPlusCircleButton,\n} from 'components/shared';\nimport matchSorter from 'match-sorter';\n\nconst ProviderUpdateModal = imported(() =>\n  import('components/provider/ProviderUpdateModal')\n);\n\nconst FormModal = imported(() => import('components/shared/FormModal'));\nconst ProviderCreationContainer = imported(() =>\n  import('components/provider/ProviderCreationContainer')\n);\n\nconfigure({\n  axios: axiosInstance,\n});\n\nconst { Content } = Layout;\n\nexport default function ProviderContainer(props) {\n  const { history, role } = props;\n  console.log(\"sdsds\",history)\n  const [searchString, setSearchString] = useState('');\n  const [modalStates, setModalStates] = useState({\n    providerCreation: false,\n    providerUpdate: false,\n  });\n  const [selectedProvider, setSelectedProvider] = useState({});\n  const { datafield, provider } = useGlobalStore();\n\n  const [{ data = [], loading, error: providerError }] = useAxios(\n    '/providers?scope=with_details'\n  );\n\n  const [\n    { data: datafieldsData, loading: loadingDataFields, error: datafieldError },\n  ] = useAxios('/datafields?type=provider&type=topic');\n\n  const openAndPopulateUpdateModal = (provider) => {\n    setSelectedProvider(provider);\n    setModalStates({ ...modalStates, providerUpdate: true });\n  };\n\n  if (providerError || datafieldError) {\n    history.push('/error/500');\n  }\n\n  useEffect(() => {\n    if (data) {\n      provider.addMany(data);\n    }\n    if (datafieldsData) {\n      datafield.addMany(datafieldsData);\n    }\n  }, [data, datafieldsData]);\n\n  const entities = Object.values(provider.entities);\n  const dataFieldEntities = Object.values(datafield.entities);\n\n  const handleDataAfterSearch = (data, keys = ['name', 'keywords']) => {\n    return matchSorter(data, searchString, { keys });\n  };\n\n  const handleDataSearch = (searchVal) => {\n    return setSearchString(searchVal);\n  };\n\n  const showData = handleDataAfterSearch(entities);\n\n  return (\n    <Layout className=\"bg-transparent\">\n      <LogOutTopbar>\n        <Col span={14}>\n          <SearchHeader title=\"PROVIDERS\" onSearch={handleDataSearch}>\n            <FaPlusCircleButton\n              onMouseEnter={() => {\n                FormModal.preload();\n                ProviderCreationContainer.preload();\n              }}\n              onClick={() =>\n                setModalStates({ ...modalStates, providerCreation: true })\n              }\n              text=\"PROVIDER\"\n            />\n          </SearchHeader>\n        </Col>\n      </LogOutTopbar>\n      <Content className=\"p-6\">\n        <Card className=\"shadow-md rounded-md\">\n          <ProvidersTable\n            data={providerError ? [] : showData}\n            loading={loading && loadingDataFields}\n            datafields={datafieldError ? [] : dataFieldEntities}\n            handleUpdateModal={openAndPopulateUpdateModal}\n          />\n          <ProviderUpdateModal\n            role={role}\n            datafields={datafieldError ? [] : dataFieldEntities}\n            provider={selectedProvider}\n            visible={modalStates.providerUpdate}\n            onCancel={() =>\n              setModalStates({ ...modalStates, providerUpdate: false })\n            }\n          />\n          <FormModal\n            role={role}\n            title=\"New Provider\"\n            visible={modalStates.providerCreation}\n            FormComponent={ProviderCreationContainer}\n            onCancel={() =>\n              setModalStates({ ...modalStates, providerCreation: false })\n            }\n          />\n        </Card>\n      </Content>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}