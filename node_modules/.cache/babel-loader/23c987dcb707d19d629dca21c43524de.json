{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar defaultUseAxios = makeUseAxios();\nvar __ssrPromises = defaultUseAxios.__ssrPromises,\n    resetConfigure = defaultUseAxios.resetConfigure,\n    configure = defaultUseAxios.configure,\n    loadCache = defaultUseAxios.loadCache,\n    serializeCache = defaultUseAxios.serializeCache;\nexport default defaultUseAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache };\nexport function makeUseAxios(configurationOptions) {\n  var cache;\n  var axiosInstance;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n  }\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios !== undefined) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache !== undefined) {\n      cache = options.cache;\n    }\n  }\n\n  resetConfigure();\n  configure(configurationOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function _serializeCache() {\n    _serializeCache = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ssrPromisesCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ssrPromisesCopy = [].concat(__ssrPromises);\n              __ssrPromises.length = 0;\n              _context.next = 4;\n              return Promise.all(ssrPromisesCopy);\n\n            case 4:\n              return _context.abrupt(\"return\", cache.dump());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _serializeCache.apply(this, arguments);\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache\n  });\n\n  function cacheAdapter(_x) {\n    return _cacheAdapter.apply(this, arguments);\n  }\n\n  function _cacheAdapter() {\n    _cacheAdapter = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config) {\n      var cacheKey, hit, response, responseForCache;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              cacheKey = JSON.stringify(config);\n              hit = cache.get(cacheKey);\n\n              if (!hit) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", hit);\n\n            case 4:\n              delete config.adapter;\n              _context2.next = 7;\n              return axiosInstance(config);\n\n            case 7:\n              response = _context2.sent;\n              responseForCache = _extends({}, response);\n              delete responseForCache.config;\n              delete responseForCache.request;\n              cache.set(cacheKey, responseForCache);\n              return _context2.abrupt(\"return\", response);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _cacheAdapter.apply(this, arguments);\n  }\n\n  function createInitialState(options) {\n    return {\n      loading: !options.manual,\n      error: null\n    };\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n\n      default:\n        return state;\n    }\n  }\n\n  function request(_x2, _x3) {\n    return _request.apply(this, arguments);\n  }\n\n  function _request() {\n    _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config, dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              dispatch({\n                type: actions.REQUEST_START\n              });\n              _context3.next = 4;\n              return axiosInstance(config);\n\n            case 4:\n              response = _context3.sent;\n              dispatch({\n                type: actions.REQUEST_END,\n                payload: response\n              });\n              return _context3.abrupt(\"return\", response);\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n\n              if (!StaticAxios.isCancel(_context3.t0)) {\n                dispatch({\n                  type: actions.REQUEST_END,\n                  payload: _context3.t0,\n                  error: true\n                });\n              }\n\n              throw _context3.t0;\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }));\n    return _request.apply(this, arguments);\n  }\n\n  function executeRequestWithCache(config, dispatch) {\n    return request(_extends({}, config, {\n      adapter: cacheAdapter\n    }), dispatch);\n  }\n\n  function executeRequestWithoutCache(config, dispatch) {\n    return request(config, dispatch);\n  }\n\n  function executeRequest(config, options, dispatch) {\n    if (cache && options.useCache) {\n      return executeRequestWithCache(config, dispatch);\n    }\n\n    return executeRequestWithoutCache(config, dispatch);\n  }\n\n  function useAxios(config, options) {\n    if (typeof config === 'string') {\n      config = {\n        url: config\n      };\n    }\n\n    var stringifiedConfig = JSON.stringify(config);\n    options = _extends({\n      manual: false,\n      useCache: true\n    }, options);\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(_extends({}, config, {\n        adapter: cacheAdapter\n      })));\n    }\n\n    var cancelOutstandingRequest = React.useCallback(function () {\n      if (cancelSourceRef.current) {\n        cancelSourceRef.current.cancel();\n      }\n    }, []);\n    var withCancelToken = React.useCallback(function (config) {\n      cancelOutstandingRequest();\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n      config.cancelToken = cancelSourceRef.current.token;\n      return config;\n    }, [cancelOutstandingRequest]);\n    React.useEffect(function () {\n      if (!options.manual) {\n        executeRequest(withCancelToken(config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return cancelOutstandingRequest; // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [stringifiedConfig]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      return executeRequest(withCancelToken(_extends({}, config, configOverride)), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [stringifiedConfig]);\n    return [state, refetch];\n  }\n}","map":{"version":3,"sources":["/home/devnineteen/Desktop/Projects/Evergreen-client/node_modules/axios-hooks/es/index.js"],"names":["_regeneratorRuntime","_extends","_asyncToGenerator","React","StaticAxios","LRU","actions","REQUEST_START","REQUEST_END","defaultUseAxios","makeUseAxios","__ssrPromises","resetConfigure","configure","loadCache","serializeCache","configurationOptions","cache","axiosInstance","options","axios","undefined","data","load","_serializeCache","apply","arguments","mark","_callee","ssrPromisesCopy","wrap","_callee$","_context","prev","next","concat","length","Promise","all","abrupt","dump","stop","Object","assign","useAxios","cacheAdapter","_x","_cacheAdapter","_callee2","config","cacheKey","hit","response","responseForCache","_callee2$","_context2","JSON","stringify","get","adapter","sent","request","set","createInitialState","loading","manual","error","reducer","state","action","_extends2","type","payload","_x2","_x3","_request","_callee3","dispatch","_callee3$","_context3","t0","isCancel","executeRequestWithCache","executeRequestWithoutCache","executeRequest","useCache","url","stringifiedConfig","cancelSourceRef","useRef","_React$useReducer","useReducer","window","push","cancelOutstandingRequest","useCallback","current","cancel","withCancelToken","CancelToken","source","cancelToken","token","useEffect","refetch","configOverride"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar defaultUseAxios = makeUseAxios();\nvar __ssrPromises = defaultUseAxios.__ssrPromises,\n    resetConfigure = defaultUseAxios.resetConfigure,\n    configure = defaultUseAxios.configure,\n    loadCache = defaultUseAxios.loadCache,\n    serializeCache = defaultUseAxios.serializeCache;\nexport default defaultUseAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache };\nexport function makeUseAxios(configurationOptions) {\n  var cache;\n  var axiosInstance;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n  }\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios !== undefined) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache !== undefined) {\n      cache = options.cache;\n    }\n  }\n\n  resetConfigure();\n  configure(configurationOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function _serializeCache() {\n    _serializeCache = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ssrPromisesCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ssrPromisesCopy = [].concat(__ssrPromises);\n              __ssrPromises.length = 0;\n              _context.next = 4;\n              return Promise.all(ssrPromisesCopy);\n\n            case 4:\n              return _context.abrupt(\"return\", cache.dump());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _serializeCache.apply(this, arguments);\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache\n  });\n\n  function cacheAdapter(_x) {\n    return _cacheAdapter.apply(this, arguments);\n  }\n\n  function _cacheAdapter() {\n    _cacheAdapter = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config) {\n      var cacheKey, hit, response, responseForCache;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              cacheKey = JSON.stringify(config);\n              hit = cache.get(cacheKey);\n\n              if (!hit) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", hit);\n\n            case 4:\n              delete config.adapter;\n              _context2.next = 7;\n              return axiosInstance(config);\n\n            case 7:\n              response = _context2.sent;\n              responseForCache = _extends({}, response);\n              delete responseForCache.config;\n              delete responseForCache.request;\n              cache.set(cacheKey, responseForCache);\n              return _context2.abrupt(\"return\", response);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _cacheAdapter.apply(this, arguments);\n  }\n\n  function createInitialState(options) {\n    return {\n      loading: !options.manual,\n      error: null\n    };\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n\n      default:\n        return state;\n    }\n  }\n\n  function request(_x2, _x3) {\n    return _request.apply(this, arguments);\n  }\n\n  function _request() {\n    _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config, dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              dispatch({\n                type: actions.REQUEST_START\n              });\n              _context3.next = 4;\n              return axiosInstance(config);\n\n            case 4:\n              response = _context3.sent;\n              dispatch({\n                type: actions.REQUEST_END,\n                payload: response\n              });\n              return _context3.abrupt(\"return\", response);\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n\n              if (!StaticAxios.isCancel(_context3.t0)) {\n                dispatch({\n                  type: actions.REQUEST_END,\n                  payload: _context3.t0,\n                  error: true\n                });\n              }\n\n              throw _context3.t0;\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }));\n    return _request.apply(this, arguments);\n  }\n\n  function executeRequestWithCache(config, dispatch) {\n    return request(_extends({}, config, {\n      adapter: cacheAdapter\n    }), dispatch);\n  }\n\n  function executeRequestWithoutCache(config, dispatch) {\n    return request(config, dispatch);\n  }\n\n  function executeRequest(config, options, dispatch) {\n    if (cache && options.useCache) {\n      return executeRequestWithCache(config, dispatch);\n    }\n\n    return executeRequestWithoutCache(config, dispatch);\n  }\n\n  function useAxios(config, options) {\n    if (typeof config === 'string') {\n      config = {\n        url: config\n      };\n    }\n\n    var stringifiedConfig = JSON.stringify(config);\n    options = _extends({\n      manual: false,\n      useCache: true\n    }, options);\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(_extends({}, config, {\n        adapter: cacheAdapter\n      })));\n    }\n\n    var cancelOutstandingRequest = React.useCallback(function () {\n      if (cancelSourceRef.current) {\n        cancelSourceRef.current.cancel();\n      }\n    }, []);\n    var withCancelToken = React.useCallback(function (config) {\n      cancelOutstandingRequest();\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n      config.cancelToken = cancelSourceRef.current.token;\n      return config;\n    }, [cancelOutstandingRequest]);\n    React.useEffect(function () {\n      if (!options.manual) {\n        executeRequest(withCancelToken(config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return cancelOutstandingRequest; // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [stringifiedConfig]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      return executeRequest(withCancelToken(_extends({}, config, configOverride)), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [stringifiedConfig]);\n    return [state, refetch];\n  }\n}"]},"metadata":{},"sourceType":"module"}